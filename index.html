<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBEI52</title>
    <link rel="icon" type="image/png" href="pal.png">
    <!-- Haupt-Styles f√ºr dunkelgr√ºnes/Schwarz-Farbschema & typisierende √úberschrift, alles responsiv. -->
    <style>
        * {
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: rgba(42, 125, 74, 0.6) rgba(10, 18, 15, 0.8);
        }
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        /* Custom Scrollbar Styles */
        /* Webkit browsers (Chrome, Safari, Edge) */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(10, 18, 15, 0.8);
            border-left: 1px solid rgba(45, 143, 71, 0.2);
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, rgba(42, 125, 74, 0.6) 0%, rgba(15, 157, 58, 0.6) 100%);
            border: 2px solid rgba(10, 18, 15, 0.8);
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, rgba(42, 125, 74, 0.9) 0%, rgba(15, 157, 58, 0.9) 100%);
            box-shadow: 0 0 10px rgba(42, 125, 74, 0.5);
        }
        ::-webkit-scrollbar-thumb:active {
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
        }
        ::-webkit-scrollbar-corner {
            background: rgba(10, 18, 15, 0.8);
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: #0a120f;
            overflow-x: hidden;
            padding-right: 250px; /* Make space for sidebar */
        }
        @media (max-width: 1200px) {
            body {
                padding-right: 0;
            }
        }
        /* Sticky Navigation */
        .sticky-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 18, 15, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(45, 143, 71, 0.3);
            z-index: 1000;
            padding: 15px 20px;
            padding-right: 250px; /* Make space for sidebar */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease, padding-right 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }
        .sticky-nav.sidebar-collapsed {
            padding-right: 20px;
        }
        @media (max-width: 1200px) {
            .sticky-nav {
                padding-right: 20px !important;
            }
        }
        .sticky-nav.visible {
            opacity: 1;
            pointer-events: all;
        }
        .sticky-nav.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        .nav-link {
            color: #c5ffd4;
            text-decoration: none;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.75rem, 1.5vw, 0.95rem);
            padding: 8px 16px;
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 8px;
            background: rgba(19, 54, 34, 0.3);
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        .nav-link:hover {
            color: #2a7d4a;
            border-color: #2a7d4a;
            background: rgba(19, 54, 34, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 143, 71, 0.3);
        }
        .nav-link.active {
            color: #2a7d4a;
            border-color: #2a7d4a;
            background: rgba(42, 125, 74, 0.1);
            box-shadow: 0 0 15px rgba(45, 143, 71, 0.4);
        }
        .admin-btn {
            background: rgba(255, 193, 7, 0.2) !important;
            border-color: rgba(255, 193, 7, 0.5) !important;
        }
        .admin-btn:hover {
            background: rgba(255, 193, 7, 0.3) !important;
            border-color: #ffc107 !important;
            color: #ffc107 !important;
        }
        .admin-btn.logged-in {
            background: rgba(42, 125, 74, 0.2) !important;
            border-color: #2a7d4a !important;
            color: #2a7d4a !important;
        }
        /* Participants Sidebar - Discord Style */
        .participants-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 250px;
            height: 100vh;
            background: rgba(10, 18, 15, 0.98);
            border-left: 2px solid rgba(45, 143, 71, 0.3);
            z-index: 1001;
            overflow-y: auto;
            overflow-x: hidden;
            backdrop-filter: blur(10px);
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }
        .participants-sidebar.collapsed {
            transform: translateX(100%);
        }
        /* Button to expand collapsed sidebar */
        .participants-sidebar-expand-btn {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(42, 125, 74, 0.9);
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            padding: 12px 16px;
            border-radius: 8px 0 0 8px;
            cursor: pointer;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.8rem, 1.2vw, 1rem);
            font-weight: 700;
            transition: all 0.3s ease;
            z-index: 998;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: -4px 0 12px rgba(0, 0, 0, 0.3);
        }
        .participants-sidebar-expand-btn:hover {
            background: rgba(42, 125, 74, 1);
            transform: translateY(-50%) translateX(-5px);
            box-shadow: -6px 0 16px rgba(45, 143, 71, 0.4);
        }
        .participants-sidebar-expand-btn.hidden {
            display: none;
        }
        .participants-sidebar-header {
            padding: 15px 20px;
            background: rgba(19, 54, 34, 0.4);
            border-bottom: 2px solid rgba(45, 143, 71, 0.3);
            position: sticky;
            top: 0;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }
        .participants-sidebar-toggle {
            background: rgba(42, 125, 74, 0.2);
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.7rem, 1.2vw, 0.85rem);
            font-weight: 700;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .participants-sidebar-toggle:hover {
            background: rgba(42, 125, 74, 0.4);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(45, 143, 71, 0.3);
        }
        .participants-sidebar-toggle .toggle-icon {
            font-size: 0.9em;
        }
        .participants-sidebar-title {
            color: #2a7d4a;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
            font-weight: 700;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        .participants-list {
            padding: 10px 0;
            list-style: none;
            margin: 0;
        }
        .participant-item {
            padding: 8px 20px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.2vw, 0.95rem);
            cursor: pointer;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        .participant-item:hover {
            background: rgba(19, 54, 34, 0.4);
            border-left-color: #2a7d4a;
            color: #2a7d4a;
        }
        .participant-item::before {
            content: '‚Ä¢';
            color: #4a9d7a;
            margin-right: 8px;
            font-weight: bold;
        }
        .participant-status-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 8px;
            vertical-align: middle;
            flex-shrink: 0;
        }
        .participant-status-dot.active {
            background-color: #2a7d4a;
            box-shadow: 0 0 8px rgba(42, 125, 74, 0.6);
        }
        .participant-status-dot.inactive {
            background-color: #ff6b6b;
            box-shadow: 0 0 8px rgba(255, 107, 107, 0.4);
        }
        .participant-item.participant-admin {
            background: rgba(42, 125, 74, 0.1);
            border-left-color: #ffc107;
        }
        .participant-item.participant-admin:hover {
            background: rgba(42, 125, 74, 0.2);
            border-left-color: #ffc107;
        }
        .participant-item.participant-admin .participant-name {
            color: #ffc107;
            font-weight: 700;
        }
        .participant-item.participant-admin::before {
            content: 'üëë';
            color: #ffc107;
            margin-right: 8px;
        }
        /* Particle effects for admin names */
        .participant-item.participant-admin {
            position: relative;
            overflow: visible;
        }
        .participant-item.participant-admin::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
            overflow: visible;
        }
        .admin-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffc107;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            animation: particleFloat 3s infinite ease-in-out;
            box-shadow: 0 0 6px rgba(255, 193, 7, 0.8);
        }
        @keyframes particleFloat {
            0% {
                opacity: 0;
                transform: translate(0, 0) scale(0);
            }
            10% {
                opacity: 1;
                transform: translate(var(--tx1, 0), var(--ty1, -10px)) scale(1);
            }
            50% {
                opacity: 0.8;
                transform: translate(var(--tx2, 0), var(--ty2, -20px)) scale(0.8);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx3, 0), var(--ty3, -30px)) scale(0);
            }
        }
        .admin-badge {
            display: inline-block;
            margin-left: 6px;
            padding: 1px 4px;
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.4);
            border-radius: 3px;
            color: #ffc107;
            font-size: clamp(0.65rem, 0.9vw, 0.75rem);
            font-weight: 600;
        }
        .player-badge {
            display: inline-block;
            margin-left: 6px;
            padding: 1px 3px;
            background: rgba(74, 157, 122, 0.2);
            border: 1px solid rgba(74, 157, 122, 0.4);
            border-radius: 3px;
            color: #4a9d7a;
            font-size: clamp(0.5rem, 0.7vw, 0.6rem);
            font-weight: 600;
            line-height: 1.2;
        }
        .participants-separator {
            height: 1px;
            background: rgba(45, 143, 71, 0.3);
            margin: 8px 20px;
            padding: 0;
            list-style: none;
        }
        .participants-separator::before {
            display: none;
        }
        .participants-count {
            color: #4a9d7a;
            font-size: clamp(0.75rem, 1vw, 0.85rem);
            margin-top: 5px;
            font-family: 'Consolas', monospace;
        }
        .no-participants-message {
            padding: 20px;
            text-align: center;
            color: #4a9d7a;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.8rem, 1.2vw, 0.9rem);
        }
        @media (max-width: 1200px) {
            .participants-sidebar {
                width: 100%;
                max-width: 400px;
                right: 0;
            }
            body {
                padding-right: 0 !important;
            }
        }
        @media (max-width: 768px) {
            .participants-sidebar {
                width: 100%;
                max-width: 100%;
                z-index: 2000;
                box-shadow: -4px 0 30px rgba(0, 0, 0, 0.7);
            }
            .participants-sidebar-expand-btn {
                display: flex !important;
                z-index: 1999;
            }
            .participants-sidebar-header {
                padding: 12px 15px;
            }
            .participants-sidebar-title {
                font-size: clamp(0.85rem, 3vw, 1rem);
            }
            .participants-sidebar-toggle {
                padding: 8px 12px;
                font-size: clamp(0.75rem, 2.5vw, 0.9rem);
                min-height: 44px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
        }
        @media (max-width: 480px) {
            .participants-sidebar {
                width: 100%;
            }
            .participants-sidebar-expand-btn {
                right: 10px;
                padding: 10px 14px;
                font-size: clamp(0.75rem, 3vw, 0.9rem);
            }
        }
        @media (max-width: 768px) {
            .sticky-nav {
                padding: 10px 15px;
            }
            .nav-container {
                gap: 8px;
            }
            .nav-link {
                padding: 10px 14px;
                font-size: clamp(0.75rem, 2.5vw, 0.9rem);
                min-height: 44px;
                min-width: 44px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .admin-btn {
                min-height: 44px;
                min-width: 44px;
                padding: 10px 14px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(255, 193, 7, 0.3);
            }
        }
        @media (max-width: 480px) {
            .sticky-nav {
                padding: 8px 10px;
            }
            .nav-container {
                gap: 6px;
            }
            .nav-link {
                padding: 8px 12px;
                font-size: clamp(0.7rem, 3vw, 0.85rem);
            }
        }
        /* Admin Login Modal */
        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        .admin-modal.active {
            display: flex;
        }
        .admin-modal-content {
            background: linear-gradient(135deg, #0d1f15 0%, #0a1a0f 100%);
            border: 2px solid #2a7d4a;
            border-radius: 16px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 8px 32px rgba(42, 125, 74, 0.4);
            position: relative;
        }
        .admin-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .admin-modal-close:hover {
            background: rgba(42, 125, 74, 0.2);
            transform: rotate(90deg);
        }
        .admin-modal-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            color: #2d8f47;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 800;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }
        .admin-form-group {
            margin-bottom: 20px;
        }
        .admin-form-label {
            display: block;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1rem);
            margin-bottom: 8px;
            font-weight: 600;
        }
        .admin-form-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(19, 54, 34, 0.5);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 8px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1rem);
            transition: all 0.3s ease;
        }
        .admin-form-input:focus {
            outline: none;
            border-color: #2a7d4a;
            background: rgba(19, 54, 34, 0.7);
            box-shadow: 0 0 15px rgba(45, 143, 71, 0.3);
        }
        .admin-form-submit {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
            border: 2px solid #2a7d4a;
            border-radius: 8px;
            color: #0a120f;
            font-family: 'Consolas', monospace;
            font-size: clamp(1rem, 2vw, 1.1rem);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        .admin-form-submit:hover {
            background: linear-gradient(135deg, #2d8f47 0%, #2a7d4a 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(45, 143, 71, 0.4);
        }
        .admin-error {
            color: #ff6b6b;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.8vw, 0.95rem);
            margin-top: 10px;
            text-align: center;
            display: none;
        }
        .admin-error.active {
            display: block;
        }
        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
        }
        .admin-panel.active {
            display: block;
        }
        .admin-panel-header {
            background: linear-gradient(135deg, #0d1f15 0%, #0a1a0f 100%);
            border-bottom: 2px solid #2a7d4a;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .admin-panel-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            color: #2d8f47;
            font-weight: 800;
            letter-spacing: 0.1em;
        }
        .admin-panel-close {
            background: transparent;
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1rem);
            transition: all 0.3s ease;
        }
        .admin-panel-close:hover {
            background: rgba(42, 125, 74, 0.2);
        }
        .admin-panel-content {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        .admin-panel-section {
            background: rgba(13, 31, 21, 0.6);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .admin-panel-section-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            color: #2a7d4a;
            margin-bottom: 20px;
            font-weight: 700;
        }
        .admin-btn-primary {
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
            border: 2px solid #2a7d4a;
            border-radius: 8px;
            color: #0a120f;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 700;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        .admin-btn-primary:hover {
            background: linear-gradient(135deg, #2d8f47 0%, #2a7d4a 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(45, 143, 71, 0.4);
        }
        .delete-table-btn {
            background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
            border: 2px solid #ff6666;
            border-radius: 8px;
            color: #ffffff;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.8vw, 0.95rem);
            font-weight: 700;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            width: 100%;
        }
        .delete-table-btn:hover {
            background: linear-gradient(135deg, #ff6666 0%, #ff4444 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(255, 68, 68, 0.4);
        }
        .table-wrapper-admin {
            position: relative;
        }
        .player-name-clickable {
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .player-name-clickable:hover {
            background: rgba(42, 125, 74, 0.15) !important;
            color: #2a7d4a !important;
            text-shadow: 0 0 8px rgba(42, 125, 74, 0.5);
        }
        .player-name-clickable::after {
            content: '‚úèÔ∏è';
            opacity: 0;
            position: absolute;
            right: 5px;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
        }
        .player-name-clickable:hover::after {
            opacity: 0.6;
        }
        .score-cell-clickable {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .score-cell-clickable:hover {
            background: rgba(42, 125, 74, 0.15) !important;
        }
        /* Player Stats Modal */
        .player-stats-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.92);
            z-index: 3001;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .player-stats-modal.active {
            display: flex;
            opacity: 1;
            animation: modalFadeIn 0.3s ease;
        }
        @keyframes modalFadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .player-stats-content {
            background: linear-gradient(135deg, #0d1f15 0%, #0a1a0f 50%, #0d1f15 100%);
            border: 3px solid #2a7d4a;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            box-shadow: 
                0 8px 32px rgba(42, 125, 74, 0.5),
                0 0 60px rgba(42, 125, 74, 0.2),
                inset 0 0 30px rgba(42, 125, 74, 0.05);
            position: relative;
            overflow-y: auto;
            word-wrap: break-word;
            overflow-wrap: break-word;
            transform: scale(0.9);
            animation: contentSlideIn 0.4s ease forwards;
        }
        .player-stats-modal.active .player-stats-content {
            transform: scale(1);
        }
        @keyframes contentSlideIn {
            from {
                transform: scale(0.9) translateY(20px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }
        .player-stats-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, rgba(42, 125, 74, 0.1) 0%, rgba(42, 125, 74, 0.2) 100%);
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(42, 125, 74, 0.3);
            z-index: 10;
        }
        .player-stats-close:hover {
            background: linear-gradient(135deg, rgba(42, 125, 74, 0.3) 0%, rgba(42, 125, 74, 0.4) 100%);
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 4px 16px rgba(42, 125, 74, 0.5);
        }
        .player-stats-close:active {
            transform: rotate(90deg) scale(0.95);
        }
        .player-stats-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.4rem, 3.5vw, 1.8rem);
            background: linear-gradient(135deg, #2d8f47 0%, #2a7d4a 50%, #0f9d3a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 800;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            text-shadow: 0 0 20px rgba(42, 125, 74, 0.3);
            position: relative;
        }
        .player-stats-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #2a7d4a, transparent);
            border-radius: 2px;
        }
        .player-stats-header {
            text-align: center;
            margin-bottom: 35px;
            padding: 25px;
            background: linear-gradient(135deg, rgba(19, 54, 34, 0.4) 0%, rgba(13, 31, 21, 0.4) 100%);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }
        .player-stats-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(42, 125, 74, 0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        .player-stats-name {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            margin-bottom: 12px;
            text-shadow: 0 0 30px rgba(42, 125, 74, 0.5);
            letter-spacing: 0.05em;
        }
        .player-stats-basic-info {
            font-family: 'Consolas', monospace;
            font-size: clamp(0.95rem, 2.2vw, 1.15rem);
            color: #c5ffd4;
            opacity: 0.9;
        }
        .player-stats-section {
            margin-bottom: 35px;
        }
        .player-stats-section-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.2rem, 2.8vw, 1.5rem);
            color: #2a7d4a;
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(45, 143, 71, 0.3);
        }
        .player-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 18px;
            margin-bottom: 20px;
        }
        .player-stats-card {
            background: linear-gradient(135deg, rgba(19, 54, 34, 0.5) 0%, rgba(13, 31, 21, 0.5) 100%);
            border: 2px solid rgba(45, 143, 71, 0.4);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        .player-stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #2a7d4a, transparent);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .player-stats-card:hover {
            transform: translateY(-5px);
            border-color: #2a7d4a;
            box-shadow: 
                0 8px 24px rgba(42, 125, 74, 0.4),
                0 0 20px rgba(42, 125, 74, 0.2);
            background: linear-gradient(135deg, rgba(19, 54, 34, 0.7) 0%, rgba(13, 31, 21, 0.7) 100%);
        }
        .player-stats-card:hover::before {
            transform: scaleX(1);
        }
        .player-stats-card-label {
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.6vw, 1rem);
            color: #4a9d7a;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .player-stats-card-value {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.4rem, 3.5vw, 2.2rem);
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            text-shadow: 0 0 20px rgba(42, 125, 74, 0.3);
        }
        .player-stats-matches {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .player-stats-match {
            background: linear-gradient(135deg, rgba(19, 54, 34, 0.5) 0%, rgba(13, 31, 21, 0.5) 100%);
            border: 2px solid rgba(45, 143, 71, 0.4);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        .player-stats-match:hover {
            transform: translateX(5px);
            border-color: #2a7d4a;
            box-shadow: 
                0 6px 20px rgba(42, 125, 74, 0.3),
                0 0 15px rgba(42, 125, 74, 0.15);
        }
        .player-stats-match.win-match {
            border-left: 4px solid #2a7d4a;
        }
        .player-stats-match.loss-match {
            border-left: 4px solid #ff6b6b;
        }
        .player-stats-match-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .player-stats-match-round {
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: #2a7d4a;
            font-weight: 700;
        }
        .player-stats-match-result {
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.8vw, 1rem);
            color: #c5ffd4;
        }
        .player-stats-match-result.win {
            color: #2a7d4a;
            font-weight: 700;
        }
        .player-stats-match-result.loss {
            color: #ff6b6b;
        }
        .player-stats-match-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(45, 143, 71, 0.2);
        }
        .player-stats-match-detail {
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.6vw, 1rem);
            color: #4a9d7a;
            padding: 8px 12px;
            background: rgba(19, 54, 34, 0.3);
            border-radius: 8px;
            border-left: 3px solid rgba(45, 143, 71, 0.3);
            transition: all 0.2s ease;
        }
        .player-stats-match-detail:hover {
            background: rgba(19, 54, 34, 0.5);
            border-left-color: #2a7d4a;
            transform: translateX(3px);
        }
        .player-stats-match-detail strong {
            color: #2a7d4a;
            font-weight: 700;
        }
        @media (max-width: 768px) {
            .player-stats-modal {
                padding: 10px;
            }
            .player-stats-content {
                padding: 25px 20px;
                max-width: 95%;
                max-height: 95vh;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            .player-stats-close {
                width: 44px;
                height: 44px;
                font-size: 22px;
                top: 10px;
                right: 10px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .player-stats-title {
                font-size: clamp(1.1rem, 3vw, 1.4rem);
                margin-bottom: 15px;
            }
            .player-stats-name {
                font-size: clamp(1.2rem, 4vw, 1.6rem);
            }
            .player-stats-basic-info {
                font-size: clamp(0.85rem, 2.2vw, 1rem);
            }
            .player-stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            .player-stats-card {
                padding: 15px;
            }
            .player-stats-card-label {
                font-size: clamp(0.8rem, 2vw, 0.95rem);
            }
            .player-stats-card-value {
                font-size: clamp(1.3rem, 4vw, 1.9rem);
            }
            .player-stats-match {
                padding: 15px;
            }
            .player-stats-match-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            .player-stats-match-details {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }
        @media (max-width: 480px) {
            .player-stats-content {
                padding: 20px 15px;
                max-width: 98%;
            }
        }
        
        /* Match Edit Modal */
        .match-edit-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        .match-edit-modal.active {
            display: flex;
        }
        .match-edit-content {
            background: linear-gradient(135deg, #0d1f15 0%, #0a1a0f 100%);
            border: 2px solid #2a7d4a;
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 8px 32px rgba(42, 125, 74, 0.4);
            position: relative;
            overflow-y: auto;
            max-height: 90vh;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        .match-edit-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: 2px solid #2a7d4a;
            color: #2a7d4a;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .match-edit-close:hover {
            background: rgba(42, 125, 74, 0.2);
            transform: rotate(90deg);
        }
        .match-edit-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            color: #2d8f47;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 800;
            letter-spacing: 0.1em;
        }
        .match-players {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            gap: 15px;
            flex-wrap: wrap;
        }
        .match-player {
            flex: 1;
            min-width: 150px;
            text-align: center;
            padding: 15px;
            background: rgba(19, 54, 34, 0.3);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 12px;
            overflow: visible;
            box-sizing: border-box;
        }
        .match-player-name {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #2a7d4a;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .match-player-input {
            width: 80px;
            min-width: 60px;
            max-width: 100px;
            padding: 10px;
            background: rgba(19, 54, 34, 0.5);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 8px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            text-align: center;
            font-weight: 700;
            box-sizing: border-box;
        }
        .match-player-input:focus {
            outline: none;
            border-color: #2a7d4a;
            background: rgba(19, 54, 34, 0.7);
            box-shadow: 0 0 15px rgba(45, 143, 71, 0.3);
        }
        .match-vs {
            font-size: clamp(1.5rem, 4vw, 2rem);
            color: #4a9d7a;
            font-weight: 800;
            margin: 0 10px;
        }
        .match-status-select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(19, 54, 34, 0.5);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 8px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.9rem, 2vw, 1rem);
            margin-bottom: 20px;
        }
        .match-status-select:focus {
            outline: none;
            border-color: #2a7d4a;
            box-shadow: 0 0 15px rgba(45, 143, 71, 0.3);
        }
        .match-save-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #2a7d4a 0%, #0f9d3a 100%);
            border: 2px solid #2a7d4a;
            border-radius: 8px;
            color: #0a120f;
            font-family: 'Consolas', monospace;
            font-size: clamp(1rem, 2vw, 1.1rem);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .match-save-btn:hover {
            background: linear-gradient(135deg, #2d8f47 0%, #2a7d4a 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(45, 143, 71, 0.4);
        }
        @media (max-width: 768px) {
            .match-edit-modal {
                padding: 10px;
            }
            .match-edit-content {
                padding: 30px 20px;
                max-width: 95%;
                max-height: 95vh;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            .match-players {
                flex-direction: column;
                gap: 20px;
            }
            .match-vs {
                margin: 10px 0;
                font-size: clamp(1rem, 3vw, 1.3rem);
            }
            .match-player-input {
                font-size: 1.8rem;
                padding: 14px;
                width: 80px;
                min-width: 70px;
                min-height: 44px;
                text-align: center;
            }
            .match-player {
                min-width: 100%;
                padding: 15px;
            }
            .match-player-name {
                font-size: clamp(1.1rem, 3vw, 1.4rem);
                margin-bottom: 12px;
            }
            .match-player button {
                width: 44px !important;
                height: 44px !important;
                font-size: 20px !important;
                min-width: 44px !important;
                min-height: 44px !important;
            }
            .match-edit-close {
                width: 44px;
                height: 44px;
                font-size: 22px;
                top: 10px;
                right: 10px;
            }
            .match-save-btn {
                padding: 16px 24px;
                font-size: 1.1rem;
                min-height: 48px;
                width: 100%;
                margin-top: 20px;
            }
            .stopwatch-display {
                font-size: clamp(2rem, 8vw, 3rem);
                padding: 20px;
            }
            .stopwatch-controls {
                flex-direction: column;
                gap: 12px;
            }
            .stopwatch-btn {
                width: 100%;
                min-height: 48px;
                padding: 14px;
                font-size: clamp(1rem, 3vw, 1.1rem);
            }
        }
        @media (max-width: 480px) {
            .match-edit-content {
                padding: 25px 15px;
                max-width: 98%;
            }
            .match-player-input {
                font-size: 1.6rem;
                width: 70px;
            }
            .match-player button {
                width: 40px !important;
                height: 40px !important;
                font-size: 18px !important;
            }
        }
        /* Touch-friendly buttons for mobile */
        .match-edit-modal button {
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            min-height: 44px;
            min-width: 44px;
        }
        .match-player-input {
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
        }
        /* Stopwatch styles */
        .stopwatch-section {
            margin-bottom: 20px;
            text-align: center;
        }
        .stopwatch-display {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: #2a7d4a;
            font-weight: 800;
            font-family: 'Consolas', monospace;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(19, 54, 34, 0.3);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 12px;
            text-shadow: 0 0 10px rgba(42, 125, 74, 0.3);
            letter-spacing: 0.1em;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .stopwatch-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .stopwatch-btn {
            flex: 1;
            min-width: 100px;
            padding: 10px 15px;
            background: rgba(19, 54, 34, 0.5);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 8px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 2vw, 1rem);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .stopwatch-btn:hover {
            border-color: #2a7d4a;
            background: rgba(19, 54, 34, 0.7);
            color: #2a7d4a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 143, 71, 0.3);
        }
        .stopwatch-btn:active {
            transform: translateY(0);
        }
        .stopwatch-btn.start {
            background: linear-gradient(135deg, rgba(42, 125, 74, 0.2) 0%, rgba(15, 157, 58, 0.2) 100%);
            border-color: #2a7d4a;
            color: #2a7d4a;
        }
        .stopwatch-btn.stop {
            background: linear-gradient(135deg, rgba(255, 68, 68, 0.2) 0%, rgba(204, 0, 0, 0.2) 100%);
            border-color: #ff6666;
            color: #ff6666;
        }
        .stopwatch-btn.reset {
            background: rgba(255, 193, 7, 0.2);
            border-color: rgba(255, 193, 7, 0.5);
            color: #ffc107;
        }
        /* Fix text overflow */
        .match-edit-title {
            word-wrap: break-word;
            overflow-wrap: break-word;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .match-edit-subtitle {
            word-wrap: break-word;
            overflow-wrap: break-word;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .match-player-name {
            word-wrap: break-word;
            overflow-wrap: break-word;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }
        .match-player {
            overflow: hidden;
            max-width: 100%;
        }
        .create-table-panel {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(19, 54, 34, 0.3);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 12px;
        }
        .create-table-panel.active {
            display: block;
        }
        .players-input-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }
        @media (max-width: 768px) {
            .players-input-container {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 12px;
                max-height: 350px;
            }
        }
        @media (max-width: 480px) {
            .players-input-container {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
        .player-input-item {
            display: flex;
            flex-direction: column;
        }
        .player-input-label {
            color: #4a9d7a;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.8vw, 0.95rem);
            margin-bottom: 5px;
        }
        .player-input-field {
            padding: 8px 12px;
            background: rgba(19, 54, 34, 0.5);
            border: 2px solid rgba(45, 143, 71, 0.3);
            border-radius: 6px;
            color: #c5ffd4;
            font-family: 'Consolas', monospace;
            font-size: clamp(0.85rem, 1.8vw, 0.95rem);
        }
        .player-input-field:focus {
            outline: none;
            border-color: #2a7d4a;
            box-shadow: 0 0 10px rgba(45, 143, 71, 0.3);
        }
        .no-tables-message {
            text-align: center;
            padding: 60px 20px;
            color: #4a9d7a;
            font-family: 'Consolas', monospace;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 1.8;
            display: none;
        }
        .no-tables-message strong {
            color: #2a7d4a;
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            display: block;
            margin-bottom: 15px;
        }
        @media (max-width: 768px) {
            .admin-modal-content {
                padding: 30px 20px;
                max-width: 95%;
                max-height: 90vh;
                overflow-y: auto;
            }
            .admin-modal-close {
                width: 44px;
                height: 44px;
                font-size: 22px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .admin-form-input {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 14px 15px;
                min-height: 44px;
            }
            .admin-form-submit {
                min-height: 48px;
                font-size: 1rem;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .admin-panel {
                width: 100%;
                max-width: 100%;
                left: 0;
                right: 0;
                border-radius: 0;
            }
            .admin-panel-header {
                padding: 15px 20px;
                flex-wrap: wrap;
                gap: 10px;
            }
            .admin-panel-title {
                font-size: clamp(1rem, 4vw, 1.3rem);
            }
            .admin-panel-close {
                min-height: 44px;
                min-width: 44px;
                padding: 10px 14px;
                font-size: clamp(0.8rem, 2.5vw, 0.95rem);
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .admin-panel-content {
                margin: 15px auto;
                padding: 0 15px;
                max-width: 100%;
            }
            .admin-panel-section {
                padding: 20px 15px;
            }
            .admin-panel-section-title {
                font-size: clamp(0.95rem, 3vw, 1.15rem);
            }
            .admin-btn-primary {
                min-height: 48px;
                padding: 14px 20px;
                font-size: clamp(0.9rem, 2.5vw, 1rem);
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
            .admin-btn-secondary {
                min-height: 44px;
                padding: 12px 18px;
                font-size: clamp(0.85rem, 2.2vw, 0.95rem);
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(42, 125, 74, 0.3);
            }
        }
        @media (max-width: 480px) {
            .admin-modal-content {
                padding: 25px 15px;
                max-width: 98%;
            }
            .admin-panel-header {
                padding: 12px 15px;
            }
            .admin-panel-content {
                padding: 0 10px;
            }
            .admin-panel-section {
                padding: 15px 10px;
            }
        }
        /* Scroll Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .slide-in-left {
            opacity: 0;
            transform: translateX(-50px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .slide-in-left.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .slide-in-right {
            opacity: 0;
            transform: translateX(50px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .slide-in-right.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .scale-in {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .scale-in.visible {
            opacity: 1;
            transform: scale(1);
        }
        /* Flex-zentrierter Block f√ºr Titel, nimmt ganze H√∂he des Viewports ein */
        .main-title-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
        }
        /* Gro√üer einzeiliger Titel, immer sichtbar */
        .titel {
            font-size: clamp(1.4rem, 10vw, 4.5rem);
            font-family: 'Consolas', 'Courier New', monospace;
            color: #2a7d4a;
            font-weight: 800;
            text-align: center;
            letter-spacing: 0.06em;
            text-shadow: 0 2px 22px #2a7d4ab8, 0 0 38px #04810377, 0 0 1px #fff1;
            user-select: none;
            padding: 0 1vw;
            white-space: nowrap;
            overflow: hidden;
            max-width: 98vw;
            min-width: 1em;
            z-index: 10;
            position: relative;
            background: none;
        }
        /* Stil f√ºr die TABELA-Sektion und Tabelle */
        .tabela-section {
          min-height: 52vh;
          background: linear-gradient(135deg, #071509 0%, #0a1a0f 50%, #071509 100%);
          padding: 40px 0 60px 0;
          position: relative;
          overflow: hidden;
          z-index: 10;
        }
        @media (max-width: 768px) {
          .tabela-section {
            padding: 25px 0 40px 0;
            min-height: auto;
          }
        }
        @media (max-width: 480px) {
          .tabela-section {
            padding: 20px 0 30px 0;
          }
        }
        .tabela-section::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, transparent 0%, #2a7d4a 50%, transparent 100%);
          box-shadow: 0 0 20px rgba(42, 125, 74, 0.5);
        }
        .tabela-section::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: 
            radial-gradient(circle at 20% 50%, rgba(42, 125, 74, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(45, 143, 71, 0.03) 0%, transparent 50%);
          pointer-events: none;
          z-index: 0;
        }
        .tabela-header {
          text-align: center;
          font-size: clamp(1.2rem, 6vw, 3.1rem);
          font-weight: 900;
          color: #2d8f47;
          letter-spacing: 0.1em;
          text-shadow: 0 2px 17px #047427bb, 0 0 44px #000a;
          margin-bottom: 12px;
          font-family: 'Consolas', 'Courier New', monospace;
          position: relative;
          z-index: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 15px;
          flex-wrap: wrap;
        }
        .tabela-desc {
          color: #4a9d7a;
          text-align: center;
          margin-bottom: 28px;
          font-size: clamp(1rem, 3.7vw, 1.23rem);
          font-family: monospace;
          position: relative;
          z-index: 1;
        }
        .tabela-bracket-wrapper {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 12px 2vw;
            overflow-x: auto;
            position: relative;
            z-index: 1;
            gap: 30px;
            flex-wrap: wrap;
            -webkit-overflow-scrolling: touch;
        }
        @media (max-width: 480px) {
          .tabela-bracket-wrapper {
            padding: 8px 1vw;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
          }
        }
        .tables-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
            flex-wrap: wrap;
            width: 100%;
            max-width: 1800px;
            margin: 0 auto;
            flex-direction: column;
        }
        .finalists-info {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px auto;
            background: linear-gradient(135deg, rgba(19, 59, 34, 0.8) 0%, rgba(12, 45, 23, 0.8) 100%);
            border: 3px solid #2a7d4a;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(42, 125, 74, 0.4);
            text-align: center;
            animation: finalistsGlow 2s ease-in-out infinite;
        }
        @keyframes finalistsGlow {
            0%, 100% {
                box-shadow: 0 8px 32px rgba(42, 125, 74, 0.4);
                border-color: #2a7d4a;
            }
            50% {
                box-shadow: 0 8px 40px rgba(42, 125, 74, 0.7);
                border-color: #2d8f47;
            }
        }
        .finalists-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            color: #2d8f47;
            font-weight: 800;
            letter-spacing: 0.1em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(45, 143, 71, 0.5);
        }
        .finalists-players {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        .finalist-player {
            flex: 1;
            min-width: 200px;
            padding: 20px 30px;
            background: rgba(13, 31, 21, 0.6);
            border: 2px solid #2a7d4a;
            border-radius: 12px;
            font-family: 'Consolas', monospace;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            color: #2a7d4a;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(42, 125, 74, 0.5);
            transition: all 0.3s ease;
        }
        .finalist-player:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(45, 143, 71, 0.4);
            border-color: #2d8f47;
        }
        .finalists-vs {
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            color: #4a9d7a;
            font-weight: 800;
            font-family: 'Consolas', monospace;
        }
        @media (max-width: 768px) {
            .finalists-info {
                padding: 20px;
                margin-bottom: 20px;
            }
            .finalists-players {
                flex-direction: column;
                gap: 20px;
            }
            .finalists-vs {
                margin: 10px 0;
            }
        }
        /* Winner Celebration Modal */
        .winner-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.5s ease;
        }
        .winner-modal.active {
            display: flex;
        }
        .winner-content {
            position: relative;
            text-align: center;
            z-index: 10001;
        }
        .winner-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(2rem, 8vw, 5rem);
            color: #2d8f47;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(45, 143, 71, 0.8),
                0 0 40px rgba(45, 143, 71, 0.6),
                0 0 60px rgba(45, 143, 71, 0.4);
            margin-bottom: 20px;
            animation: winnerTextAnimation 2s ease infinite;
            letter-spacing: 0.2em;
        }
        .winner-name {
            font-family: 'Consolas', monospace;
            font-size: clamp(3rem, 12vw, 8rem);
            color: #2d8f47;
            font-weight: 900;
            text-shadow: 
                0 0 30px rgba(45, 143, 71, 1),
                0 0 60px rgba(45, 143, 71, 0.8),
                0 0 90px rgba(45, 143, 71, 0.6);
            margin: 30px 0;
            animation: winnerNameAnimation 1.5s ease infinite;
            letter-spacing: 0.15em;
        }
        .winner-score {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: #4a9d7a;
            margin-top: 30px;
            text-shadow: 0 0 20px rgba(74, 157, 122, 0.6);
        }
        .winner-close-btn {
            margin-top: 40px;
            padding: 15px 40px;
            background: rgba(45, 143, 71, 0.2);
            border: 2px solid #2d8f47;
            border-radius: 8px;
            color: #2d8f47;
            font-family: 'Consolas', monospace;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-shadow: 0 0 10px rgba(45, 143, 71, 0.5);
        }
        .winner-close-btn:hover {
            background: rgba(45, 143, 71, 0.3);
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(45, 143, 71, 0.5);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes winnerTextAnimation {
            0%, 100% {
                transform: scale(1);
                text-shadow: 
                    0 0 20px rgba(45, 143, 71, 0.8),
                    0 0 40px rgba(45, 143, 71, 0.6),
                    0 0 60px rgba(45, 143, 71, 0.4);
            }
            50% {
                transform: scale(1.05);
                text-shadow: 
                    0 0 30px rgba(45, 143, 71, 1),
                    0 0 60px rgba(45, 143, 71, 0.8),
                    0 0 90px rgba(45, 143, 71, 0.6);
            }
        }
        @keyframes winnerNameAnimation {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                filter: brightness(1);
            }
            25% {
                transform: scale(1.1) rotate(-2deg);
                filter: brightness(1.2);
            }
            50% {
                transform: scale(1.15) rotate(0deg);
                filter: brightness(1.3);
            }
            75% {
                transform: scale(1.1) rotate(2deg);
                filter: brightness(1.2);
            }
        }
        /* Fireworks */
        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
        }
        @keyframes firework {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y)) scale(1);
                opacity: 0;
            }
        }
        .firework-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            animation: fireworkParticle 1s ease-out forwards;
        }
        @keyframes fireworkParticle {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }
        .table-wrapper {
            min-width: 400px;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }
        /* Winner Info Section Under Table */
        .winner-info-section {
            margin-top: 40px;
            padding: 40px 30px;
            background: linear-gradient(135deg, rgba(13, 31, 21, 0.9) 0%, rgba(10, 26, 15, 0.9) 100%);
            border: 3px solid rgba(45, 143, 71, 0.6);
            border-radius: 16px;
            text-align: center;
            box-shadow: 
                0 8px 32px rgba(45, 143, 71, 0.3),
                0 0 60px rgba(45, 143, 71, 0.2),
                inset 0 0 30px rgba(45, 143, 71, 0.1);
            animation: winnerSectionFadeIn 1s ease, winnerSectionGlow 3s ease infinite;
            position: relative;
            overflow: hidden;
        }
        .winner-info-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(45, 143, 71, 0.1) 0%, transparent 70%);
            animation: winnerSectionRotate 8s linear infinite;
            pointer-events: none;
        }
        .winner-info-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            background: linear-gradient(135deg, #2d8f47 0%, #4a9d7a 50%, #2d8f47 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            margin-bottom: 25px;
            text-shadow: 
                0 0 20px rgba(45, 143, 71, 0.8),
                0 0 40px rgba(45, 143, 71, 0.6),
                0 0 60px rgba(45, 143, 71, 0.4);
            letter-spacing: 0.15em;
            animation: winnerTitleAnimation 2s ease infinite;
            position: relative;
            z-index: 1;
        }
        .winner-info-name {
            font-family: 'Consolas', monospace;
            font-size: clamp(2.5rem, 8vw, 5rem);
            background: linear-gradient(135deg, #2d8f47 0%, #4a9d7a 50%, #2a7d4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            margin: 25px 0;
            text-shadow: 
                0 0 30px rgba(45, 143, 71, 0.9),
                0 0 60px rgba(45, 143, 71, 0.7),
                0 0 90px rgba(45, 143, 71, 0.5),
                0 0 120px rgba(45, 143, 71, 0.3);
            letter-spacing: 0.12em;
            animation: winnerNameAnimation 2.5s ease infinite, winnerNameGlow 1.5s ease infinite;
            position: relative;
            z-index: 1;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        .winner-info-name::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            background: radial-gradient(circle, rgba(45, 143, 71, 0.4) 0%, transparent 70%);
            filter: blur(20px);
            opacity: 0.7;
            z-index: -1;
            animation: winnerNameBlur 2s ease infinite;
            pointer-events: none;
        }
        .winner-info-score {
            font-family: 'Consolas', monospace;
            font-size: clamp(1.3rem, 3vw, 2rem);
            color: #4a9d7a;
            margin-top: 20px;
            text-shadow: 
                0 0 15px rgba(74, 157, 122, 0.6),
                0 0 30px rgba(74, 157, 122, 0.4);
            animation: winnerScoreAnimation 2s ease infinite;
            position: relative;
            z-index: 1;
        }
        @keyframes winnerSectionFadeIn {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        @keyframes winnerSectionGlow {
            0%, 100% {
                box-shadow: 
                    0 8px 32px rgba(45, 143, 71, 0.3),
                    0 0 60px rgba(45, 143, 71, 0.2),
                    inset 0 0 30px rgba(45, 143, 71, 0.1);
                border-color: rgba(45, 143, 71, 0.6);
            }
            50% {
                box-shadow: 
                    0 8px 40px rgba(45, 143, 71, 0.5),
                    0 0 80px rgba(45, 143, 71, 0.4),
                    inset 0 0 40px rgba(45, 143, 71, 0.2);
                border-color: rgba(45, 143, 71, 0.8);
            }
        }
        @keyframes winnerSectionRotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @keyframes winnerTitleAnimation {
            0%, 100% {
                transform: scale(1) translateY(0);
                filter: brightness(1);
            }
            50% {
                transform: scale(1.05) translateY(-3px);
                filter: brightness(1.2);
            }
        }
        @keyframes winnerNameAnimation {
            0%, 100% {
                transform: scale(1) rotateX(0deg) rotateY(0deg);
                filter: brightness(1) hue-rotate(0deg);
            }
            25% {
                transform: scale(1.08) rotateX(5deg) rotateY(-2deg);
                filter: brightness(1.15) hue-rotate(5deg);
            }
            50% {
                transform: scale(1.12) rotateX(0deg) rotateY(0deg);
                filter: brightness(1.3) hue-rotate(0deg);
            }
            75% {
                transform: scale(1.08) rotateX(-5deg) rotateY(2deg);
                filter: brightness(1.15) hue-rotate(-5deg);
            }
        }
        @keyframes winnerNameGlow {
            0%, 100% {
                text-shadow: 
                    0 0 30px rgba(45, 143, 71, 0.9),
                    0 0 60px rgba(45, 143, 71, 0.7),
                    0 0 90px rgba(45, 143, 71, 0.5),
                    0 0 120px rgba(45, 143, 71, 0.3);
            }
            50% {
                text-shadow: 
                    0 0 40px rgba(45, 143, 71, 1),
                    0 0 80px rgba(45, 143, 71, 0.9),
                    0 0 120px rgba(45, 143, 71, 0.7),
                    0 0 160px rgba(45, 143, 71, 0.5);
            }
        }
        @keyframes winnerNameBlur {
            0%, 100% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.9;
                transform: translate(-50%, -50%) scale(1.2);
            }
        }
        @keyframes winnerScoreAnimation {
            0%, 100% {
                transform: scale(1) translateY(0);
                opacity: 0.9;
            }
            50% {
                transform: scale(1.05) translateY(-2px);
                opacity: 1;
            }
        }
        @media (max-width: 768px) {
            .winner-info-section {
                margin-top: 25px;
                padding: 30px 20px;
            }
            .winner-info-title {
                font-size: clamp(1.2rem, 4vw, 1.8rem);
            }
            .winner-info-name {
                font-size: clamp(2rem, 8vw, 4rem);
            }
            .winner-info-score {
                font-size: clamp(1.1rem, 3vw, 1.6rem);
            }
        }
        @media (max-width: 480px) {
            .winner-info-section {
                margin-top: 20px;
                padding: 25px 15px;
            }
            .winner-info-name {
                font-size: clamp(1.8rem, 10vw, 3.5rem);
            }
        }
        .table-title {
            font-family: 'Consolas', monospace;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #2d8f47;
            text-align: center;
            margin-bottom: 15px;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-shadow: 0 0 10px rgba(45, 143, 71, 0.4);
        }
        .tabela-table {
          min-width: 330px;
          max-width: 920px;
          width: 100%;
          border-collapse: separate;
          border-spacing: 0;
          background: #0d1f15;
          box-shadow: 0 8px 32px rgba(16, 74, 41, 0.5), 0 0 0 1px rgba(45, 143, 71, 0.2);
          border-radius: 16px;
          overflow: hidden;
        }
        .tabela-table thead {
          background: linear-gradient(135deg, #0c2410 0%, #0a1f0d 100%);
        }
        .tabela-table th {
          color: #2d8f47;
          background: transparent;
          letter-spacing: .1em;
          font-family: 'Consolas', monospace;
          font-weight: 800;
          text-transform: uppercase;
          padding: 16px 12px;
          font-size: clamp(0.75rem, 1.5vw, 1rem);
          border-bottom: 2px solid #2a7d4a;
          text-shadow: 0 0 10px rgba(42, 125, 74, 0.5);
        }
        .tabela-table tbody tr {
          transition: all 0.3s ease;
          background: #0a1a0f;
        }
        .tabela-table tbody tr:hover {
          background: #0f2818;
          transform: scale(1.01);
          box-shadow: 0 4px 16px rgba(45, 143, 71, 0.15);
        }
        .tabela-table td {
          color: #c5ffd4;
          text-align: center;
          background: transparent;
          font-family: 'Consolas', monospace;
          padding: 14px 10px;
          font-size: clamp(0.7rem, 1.3vw, 0.95rem);
          border-bottom: 1px solid rgba(45, 143, 71, 0.1);
        }
        .tabela-table .round-cell {
          background: linear-gradient(135deg, #0c3618 0%, #08240f 100%);
          color: #2a7d4a;
          font-weight: 700;
          font-size: clamp(0.8rem, 1.4vw, 1rem);
          letter-spacing: 0.05em;
          border-right: 2px solid rgba(45, 143, 71, 0.3);
          vertical-align: middle;
          text-shadow: 0 0 8px rgba(42, 125, 74, 0.3);
        }
        .tabela-table .player-name {
          font-weight: 600;
          color: #e5ffe6;
          font-size: clamp(0.75rem, 1.35vw, 0.98rem);
        }
        .tabela-table .score-cell {
          font-weight: 700;
          font-size: clamp(0.85rem, 1.5vw, 1.1rem);
          letter-spacing: 0.1em;
          background: rgba(19, 54, 28, 0.6);
          color: #fff;
        }
        .tabela-table .score-win {
          color: #2a7d4a;
          font-weight: 900;
          text-shadow: 0 0 8px rgba(42, 125, 74, 0.6);
        }
        .tabela-table .score-lose {
          color: #ff6b6b;
          opacity: 0.7;
        }
        .tabela-table .status-complete {
          color: #2a7d4a;
          font-size: clamp(0.7rem, 1.2vw, 0.85rem);
          font-weight: 600;
        }
        .tabela-table .status-pending {
          color: #ffd93d;
          font-size: clamp(0.7rem, 1.2vw, 0.85rem);
          font-weight: 600;
        }
        .tabela-table .final td {
          background: linear-gradient(135deg, #1daf4d 0%, #158a3d 100%);
          color: #fff;
          font-weight: 900;
          letter-spacing: 0.12em;
          font-size: clamp(0.8rem, 1.4vw, 1.05rem);
          padding: 18px 12px;
          border-bottom: none;
          text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        }
        .tabela-table .final .round-cell {
          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
          text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }
        .tabela-table .final .score-cell {
          background: rgba(255, 255, 255, 0.2);
          font-size: clamp(0.95rem, 1.6vw, 1.2rem);
        }
        @media (max-width: 1200px) {
          .tables-container {
            gap: 20px;
          }
          .table-wrapper {
            min-width: 350px;
          }
        }
        @media (max-width: 900px) {
           .tables-container {
             flex-direction: column;
             align-items: center;
             gap: 25px;
           }
           .table-wrapper {
             min-width: 280px;
             max-width: 98vw;
             width: 100%;
           }
           .tabela-table {
             min-width: 280px;
             max-width: 98vw;
             width: 100%;
           }
           .tabela-table th {
             padding: 12px 8px;
             font-size: clamp(0.7rem, 2vw, 0.88rem);
           }
           .tabela-table td {
             padding: 11px 7px;
             font-size: clamp(0.68rem, 2.2vw, 0.85rem);
           }
           .tabela-table .round-cell {
             font-size: clamp(0.75rem, 2.3vw, 0.9rem);
           }
           .tabela-table .score-cell {
             font-size: clamp(0.8rem, 2.4vw, 0.95rem);
           }
        }
        @media (max-width: 600px) {
           .tables-container {
             gap: 20px;
           }
        }
        @media (max-width: 480px) {
           .tables-container {
             gap: 18px;
           }
           .table-wrapper {
             min-width: 100%;
             max-width: 100%;
           }
        }
        @media (max-width: 700px) {
           .tabela-table {min-width: 270px; max-width: 99vw;}
           .tabela-table th {padding: 10px 6px; font-size: clamp(0.65rem, 2.5vw, 0.8rem);}
           .tabela-table td {padding: 9px 5px; font-size: clamp(0.63rem, 2.5vw, 0.78rem);}
           .tabela-bracket-wrapper {padding: 8px 1vw;}
        }
        @media (max-width: 600px) {
          .table-title {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            margin-bottom: 12px;
          }
          .tabela-header {
            font-size: clamp(1rem, 6vw, 1.8rem);
            margin-bottom: 10px;
          }
          .tabela-desc {
            font-size: clamp(0.75rem, 3.2vw, 1rem);
            margin-bottom: 20px;
          }
        }
        @media (max-width: 500px) {
          .tabela-header {
            font-size: clamp(0.9rem, 7vw, 1.5rem);
            margin-bottom: 8px;
          }
          .tabela-desc {
            font-size: clamp(0.7rem, 3.5vw, 0.95rem);
            margin-bottom: 18px;
          }
          .tabela-bracket-wrapper {
            padding: 4px 0.5vw;
          }
          .table-wrapper {
            min-width: 100%;
            max-width: 100%;
          }
          .table-title {
            font-size: clamp(0.85rem, 3.5vw, 1rem);
            margin-bottom: 10px;
          }
          .tabela-table {
            min-width: 100%;
            max-width: 100%;
            width: 100%;
            font-size: 0.85rem;
          }
          .tabela-table th {
            padding: 8px 4px;
            font-size: clamp(0.65rem, 2.8vw, 0.78rem);
          }
          .tabela-table td {
            padding: 7px 3px;
            font-size: clamp(0.62rem, 2.8vw, 0.75rem);
          }
          .tabela-table .round-cell {
            font-size: clamp(0.6rem, 2.8vw, 0.75rem);
            padding: 6px 3px;
          }
          .tabela-table .player-name {
            font-size: clamp(0.62rem, 2.8vw, 0.76rem);
          }
          .tabela-table .score-cell {
            font-size: clamp(0.68rem, 3vw, 0.82rem);
          }
          .tabela-table .status-complete, 
          .tabela-table .status-pending {
            font-size: clamp(0.58rem, 2.5vw, 0.7rem);
          }
        }
        @media (max-width: 400px) {
          .tabela-header {
            font-size: clamp(0.85rem, 7.5vw, 1.3rem);
          }
          .tabela-desc {
            font-size: clamp(0.65rem, 3.8vw, 0.9rem);
          }
          .table-title {
            font-size: clamp(0.8rem, 4vw, 0.95rem);
          }
          .tabela-table th {
            padding: 6px 3px;
            font-size: clamp(0.6rem, 3vw, 0.75rem);
          }
          .tabela-table td {
            padding: 6px 2px;
            font-size: clamp(0.58rem, 3vw, 0.72rem);
          }
          .tabela-table .round-cell {
            font-size: clamp(0.55rem, 3vw, 0.7rem);
            padding: 5px 2px;
          }
          .tabela-table .player-name {
            font-size: clamp(0.58rem, 3vw, 0.72rem);
          }
          .tabela-table .score-cell {
            font-size: clamp(0.65rem, 3.2vw, 0.8rem);
          }
        }
      /* Turnier-Bracket (Drabinka!) */
      /* Haupttitel Sektion */
      .main-title-section {
        background: linear-gradient(180deg, #0a120f 0%, #071509 100%);
        padding: 60px 20px;
        text-align: center;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }
      .main-title {
            font-family: 'Consolas', 'Courier New', monospace;
        font-size: clamp(2.5rem, 8vw, 6rem);
            color: #2a7d4a;
            font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        margin: 0;
            text-shadow: 0 2px 22px #2a7d4ab8, 0 0 38px #04810377, 0 0 1px #fff1;
        line-height: 1.2;
      }
      @media (max-width: 768px) {
        .main-title-section {
          padding: 40px 15px;
        }
        .main-title {
          font-size: clamp(2rem, 10vw, 4rem);
          letter-spacing: 0.1em;
        }
        }
        @media (max-width: 480px) {
        .main-title-section {
          padding: 30px 10px;
        }
        .main-title {
          font-size: clamp(1.5rem, 12vw, 3rem);
          letter-spacing: 0.08em;
        }
      }
      /* Organisatoren Sektion */
      .organizers-section {
        background: linear-gradient(180deg, #0a120f 0%, #071509 100%);
        padding: 40px 20px 50px 20px;
        text-align: center;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }
      .organizers-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent 0%, rgba(42, 125, 74, 0.3) 50%, transparent 100%);
      }
      .organizers-title {
        font-family: 'Consolas', 'Courier New', monospace;
        font-size: clamp(0.9rem, 3vw, 1.3rem);
        color: #4a9d7a;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        margin-bottom: 20px;
        font-weight: 600;
      }
      .organizers-list {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 30px;
        margin: 0 auto;
        max-width: 800px;
      }
      .organizer-card {
        background: linear-gradient(135deg, rgba(19, 59, 34, 0.4) 0%, rgba(12, 36, 23, 0.4) 100%);
        border: 2px solid #2d8f47;
        border-radius: 12px;
        padding: 18px 28px;
        min-width: 160px;
        box-shadow: 0 4px 16px rgba(45, 143, 71, 0.2);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .organizer-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(42, 125, 74, 0.1), transparent);
        transition: left 0.5s ease;
      }
      .organizer-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(45, 143, 71, 0.4);
        border-color: #2a9d6b;
      }
      .organizer-card:hover::before {
        left: 100%;
      }
      .organizer-name {
        font-family: 'Consolas', monospace;
        font-size: clamp(1.1rem, 2.8vw, 1.6rem);
        background: linear-gradient(135deg, #4ade80 0%, #22c55e 50%, #16a34a 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 800;
        letter-spacing: 0.1em;
        text-shadow: 
          0 0 20px rgba(74, 222, 128, 0.6),
          0 0 40px rgba(34, 197, 94, 0.4),
          0 2px 8px rgba(0, 0, 0, 0.3);
        position: relative;
        z-index: 1;
        text-transform: uppercase;
        animation: nameGlow 3s ease-in-out infinite alternate;
        filter: drop-shadow(0 0 8px rgba(74, 222, 128, 0.5));
      }
      @keyframes nameGlow {
        0% {
          filter: drop-shadow(0 0 8px rgba(74, 222, 128, 0.5)) brightness(1);
        }
        100% {
          filter: drop-shadow(0 0 15px rgba(74, 222, 128, 0.8)) brightness(1.1);
        }
      }
      .organizer-card:hover .organizer-name {
        animation: nameGlowHover 0.5s ease-in-out forwards;
      }
      @keyframes nameGlowHover {
        0% {
          filter: drop-shadow(0 0 15px rgba(74, 222, 128, 0.8)) brightness(1.1);
        }
        100% {
          filter: drop-shadow(0 0 25px rgba(74, 222, 128, 1)) brightness(1.2);
          transform: scale(1.05);
        }
      }
      @media (max-width: 768px) {
        .organizers-section {
          padding: 30px 15px 35px 15px;
        }
        .organizers-list {
          gap: 18px;
          flex-direction: row;
          flex-wrap: wrap;
        }
        .organizer-card {
          padding: 14px 20px;
          min-width: 140px;
          flex: 0 1 calc(50% - 9px);
        }
        .organizers-title {
          font-size: clamp(0.85rem, 3.5vw, 1.1rem);
          margin-bottom: 18px;
        }
      }
      @media (max-width: 600px) {
        .organizers-section {
          padding: 25px 12px 30px 12px;
        }
        .organizers-list {
          gap: 15px;
        }
        .organizer-card {
          padding: 12px 16px;
          min-width: 120px;
          flex: 0 1 calc(50% - 7.5px);
        }
        .organizers-title {
          font-size: clamp(0.8rem, 4vw, 1rem);
          margin-bottom: 15px;
        }
      }
      @media (max-width: 480px) {
        .organizers-section {
          padding: 20px 10px 25px 10px;
        }
        .organizers-list {
          gap: 12px;
          flex-direction: column;
        }
        .organizer-card {
          padding: 12px 20px;
          min-width: 100%;
          width: 100%;
          flex: 1 1 100%;
        }
        .organizers-title {
          font-size: clamp(0.75rem, 4.5vw, 0.95rem);
          margin-bottom: 12px;
        }
      }
      /* Turnier-Informationen Panel */
      .tournament-info-section {
        background: linear-gradient(135deg, #0a1a0f 0%, #071509 50%, #0a1a0f 100%);
        padding: 50px 20px;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }
      .tournament-info-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent 0%, #2a7d4a 50%, transparent 100%);
        box-shadow: 0 0 15px rgba(42, 125, 74, 0.4);
      }
      .tournament-info-container {
        max-width: 900px;
        margin: 0 auto;
        background: rgba(13, 31, 21, 0.6);
        border: 2px solid rgba(45, 143, 71, 0.3);
        border-radius: 16px;
        padding: 35px 40px;
        box-shadow: 0 8px 32px rgba(16, 74, 41, 0.4);
        position: relative;
        z-index: 1;
      }
      .tournament-info-title {
        font-family: 'Consolas', 'Courier New', monospace;
        font-size: clamp(1.3rem, 4vw, 2rem);
        color: #2d8f47;
        text-align: center;
        margin-bottom: 30px;
        font-weight: 800;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        text-shadow: 0 2px 15px rgba(45, 143, 71, 0.5);
      }
      .tournament-info-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .tournament-info-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 20px;
        padding: 15px 20px;
        background: rgba(19, 54, 34, 0.3);
        border-left: 3px solid #2a7d4a;
        border-radius: 8px;
        transition: all 0.3s ease;
      }
      .tournament-info-item:hover {
        background: rgba(19, 54, 34, 0.5);
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(45, 143, 71, 0.2);
      }
      .tournament-info-item:last-child {
        margin-bottom: 0;
      }
      .tournament-info-icon {
        font-size: clamp(1.2rem, 2.5vw, 1.5rem);
        margin-right: 15px;
        color: #2a7d4a;
        flex-shrink: 0;
        margin-top: 2px;
      }
      .tournament-info-text {
        font-family: 'Consolas', monospace;
        font-size: clamp(0.95rem, 2vw, 1.15rem);
        color: #c5ffd4;
        line-height: 1.6;
        flex: 1;
      }
      .tournament-info-text strong {
        color: #2a7d4a;
        font-weight: 700;
      }
      @media (max-width: 768px) {
        .tournament-info-section {
          padding: 35px 15px;
        }
        .tournament-info-container {
          padding: 25px 20px;
        }
        .tournament-info-title {
          margin-bottom: 22px;
          font-size: clamp(1.1rem, 4vw, 1.6rem);
        }
        .tournament-info-item {
          padding: 12px 15px;
          margin-bottom: 15px;
          flex-direction: row;
        }
        .tournament-info-icon {
          margin-right: 12px;
          font-size: clamp(1.1rem, 2.5vw, 1.4rem);
        }
        .tournament-info-text {
          font-size: clamp(0.9rem, 2vw, 1.1rem);
        }
      }
      @media (max-width: 600px) {
        .tournament-info-section {
          padding: 30px 12px;
        }
        .tournament-info-container {
          padding: 20px 15px;
        }
        .tournament-info-title {
          margin-bottom: 18px;
          font-size: clamp(1rem, 4.5vw, 1.4rem);
        }
        .tournament-info-item {
          padding: 11px 12px;
          margin-bottom: 12px;
        }
        .tournament-info-icon {
          margin-right: 10px;
          font-size: clamp(1rem, 3vw, 1.3rem);
        }
        .tournament-info-text {
          font-size: clamp(0.85rem, 2.2vw, 1rem);
          line-height: 1.5;
        }
      }
      @media (max-width: 480px) {
        .tournament-info-section {
          padding: 25px 10px;
        }
        .tournament-info-container {
          padding: 18px 12px;
          border-radius: 12px;
        }
        .tournament-info-title {
          margin-bottom: 15px;
          font-size: clamp(0.95rem, 5vw, 1.2rem);
        }
        .tournament-info-item {
          padding: 10px 10px;
          margin-bottom: 10px;
          flex-direction: column;
          align-items: flex-start;
        }
        .tournament-info-icon {
          margin-right: 0;
          margin-bottom: 8px;
          font-size: clamp(0.95rem, 3vw, 1.2rem);
        }
        .tournament-info-text {
          font-size: clamp(0.8rem, 2.5vw, 0.95rem);
          line-height: 1.5;
        }
      }
      /* Neue Sektionen - Zasady, Harmonogram, Nagrody, Raport, Statystyki */
      .new-section {
        background: linear-gradient(135deg, #0a1a0f 0%, #071509 50%, #0a1a0f 100%);
        padding: 50px 20px;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }
      @media (max-width: 768px) {
        .new-section {
          padding: 35px 15px;
        }
        .new-section-container {
          padding: 25px 25px;
        }
        .new-section-title {
          font-size: clamp(1.1rem, 4.5vw, 1.6rem);
          margin-bottom: 20px;
        }
        .new-section-content {
          font-size: clamp(0.9rem, 2.5vw, 1.05rem);
        }
      }
      @media (max-width: 480px) {
        .new-section {
          padding: 25px 10px;
        }
        .new-section-container {
          padding: 20px 15px;
        }
        .new-section-title {
          font-size: clamp(1rem, 5vw, 1.4rem);
          margin-bottom: 15px;
        }
      }
      .new-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent 0%, #2a7d4a 50%, transparent 100%);
        box-shadow: 0 0 15px rgba(42, 125, 74, 0.4);
      }
      .new-section-container {
        max-width: 1000px;
        margin: 0 auto;
        background: rgba(13, 31, 21, 0.6);
        border: 2px solid rgba(45, 143, 71, 0.3);
        border-radius: 16px;
        padding: 35px 40px;
        box-shadow: 0 8px 32px rgba(16, 74, 41, 0.4);
        position: relative;
        z-index: 1;
        overflow: hidden;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      .new-section-title {
        font-family: 'Consolas', 'Courier New', monospace;
        font-size: clamp(1.3rem, 4vw, 2rem);
        color: #2d8f47;
        text-align: center;
        margin-bottom: 30px;
        font-weight: 800;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        text-shadow: 0 2px 15px rgba(45, 143, 71, 0.5);
      }
      .new-section-content {
        font-family: 'Consolas', monospace;
        font-size: clamp(0.95rem, 2vw, 1.15rem);
        color: #c5ffd4;
        line-height: 1.8;
        word-wrap: break-word;
        overflow-wrap: break-word;
        hyphens: auto;
      }
      .rules-list, .schedule-list, .prizes-list, .report-list, .stats-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .rules-item, .schedule-item, .prizes-item, .report-item, .stats-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 20px;
        padding: 15px 20px;
        background: rgba(19, 54, 34, 0.3);
        border-left: 3px solid #2a7d4a;
        border-radius: 8px;
        transition: all 0.3s ease;
        word-wrap: break-word;
        overflow-wrap: break-word;
        hyphens: auto;
        min-width: 0;
      }
      .rules-item {
        flex-direction: column;
        gap: 10px;
      }
      .rules-item strong {
        display: block;
        color: #2a7d4a;
        font-weight: 700;
        font-size: clamp(1rem, 2.2vw, 1.2rem);
        margin-bottom: 0;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-bottom: 2px solid rgba(42, 125, 74, 0.3);
        padding-bottom: 8px;
        width: 100%;
      }
      .rules-item span {
        display: block;
        color: #c5ffd4;
        font-size: clamp(0.95rem, 2vw, 1.1rem);
        line-height: 1.6;
        padding-top: 5px;
      }
      .report-item {
        flex-direction: column;
      }
      .report-item strong {
        display: inline-block;
        margin-bottom: 5px;
      }
      .rules-item:hover, .schedule-item:hover, .prizes-item:hover, .report-item:hover, .stats-item:hover {
        background: rgba(19, 54, 34, 0.5);
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(45, 143, 71, 0.2);
      }
      .schedule-item strong, .prizes-item strong, .report-item strong, .stats-item strong {
        color: #2a7d4a;
        font-weight: 700;
        margin-right: 8px;
      }
      /* Prizes Images Styles */
      .prizes-images-container {
        display: flex;
        gap: 30px;
        justify-content: center;
        align-items: flex-start;
        flex-wrap: wrap;
        margin-top: 20px;
      }
      .prize-image-wrapper {
        flex: 1;
        min-width: 280px;
        max-width: 450px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      @media (max-width: 768px) {
        .prizes-images-container {
          flex-direction: column;
          gap: 25px;
          align-items: center;
        }
        .prize-image-wrapper {
          min-width: 100%;
          max-width: 100%;
        }
        .prize-image-placeholder {
          max-width: 100%;
        }
        .prize-image-text {
          font-size: clamp(0.9rem, 2.5vw, 1.1rem);
          padding: 15px;
        }
      }
      @media (max-width: 480px) {
        .prizes-images-container {
          gap: 20px;
        }
      }
      .prize-image-placeholder {
        width: 100%;
        aspect-ratio: 3/4;
        background: rgba(19, 54, 34, 0.4);
        border: 3px dashed rgba(45, 143, 71, 0.5);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        transition: all 0.3s ease;
      }
      .prize-image-placeholder:hover {
        border-color: rgba(45, 143, 71, 0.8);
        background: rgba(19, 54, 34, 0.6);
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(45, 143, 71, 0.3);
      }
      .prize-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 12px;
      }
      .prize-image-text {
        color: #4a9d7a;
        font-family: 'Consolas', monospace;
        font-size: clamp(0.9rem, 2vw, 1.1rem);
        text-align: center;
        line-height: 1.6;
        padding: 20px;
      }
      .schedule-time {
        color: #4a9d7a;
        font-weight: 600;
        min-width: 120px;
        display: inline-block;
      }
      .schedule-match {
        margin-left: 10px;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      @media (max-width: 768px) {
        .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
        }
        .stats-card {
          padding: 15px;
        }
        .stats-number {
          font-size: clamp(1.5rem, 5vw, 2.5rem);
        }
        .stats-label {
          font-size: clamp(0.85rem, 2.5vw, 1rem);
        }
      }
      @media (max-width: 480px) {
        .stats-grid {
          grid-template-columns: 1fr;
          gap: 12px;
        }
      }
      .stats-card {
        background: rgba(19, 54, 34, 0.4);
        border: 2px solid rgba(45, 143, 71, 0.2);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
      }
      .stats-card:hover {
        border-color: #2a7d4a;
        box-shadow: 0 4px 16px rgba(45, 143, 71, 0.3);
        transform: translateY(-5px);
      }
      .stats-number {
        font-size: clamp(2rem, 5vw, 3rem);
        color: #2a7d4a;
        font-weight: 900;
        text-shadow: 0 0 10px rgba(42, 125, 74, 0.5);
        margin-bottom: 10px;
      }
      .stats-label {
        font-size: clamp(0.9rem, 2vw, 1.1rem);
        color: #c5ffd4;
        font-weight: 600;
      }
      /* Footer Styles */
      .footer {
        background: linear-gradient(180deg, #0a120f 0%, #071509 100%);
        border-top: 2px solid rgba(45, 143, 71, 0.3);
        padding: 40px 20px;
        margin-top: 60px;
        position: relative;
        overflow: hidden;
      }
      .footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent 0%, rgba(42, 125, 74, 0.3) 50%, transparent 100%);
      }
      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
      }
      .footer-section {
        text-align: center;
      }
      .footer-title {
        font-family: 'Consolas', monospace;
        font-size: clamp(1rem, 2.5vw, 1.3rem);
        color: #2a7d4a;
        font-weight: 700;
        margin-bottom: 15px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }
      .footer-info {
        font-family: 'Consolas', monospace;
        font-size: clamp(0.9rem, 2vw, 1.1rem);
        color: #c5ffd4;
        line-height: 1.8;
      }
      .footer-team {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
      }
      .footer-team-member {
        font-family: 'Consolas', monospace;
        font-size: clamp(0.85rem, 1.8vw, 1rem);
        color: #4a9d7a;
        padding: 5px 0;
      }
      .footer-team-member strong {
        color: #2a7d4a;
        font-weight: 700;
      }
      @media (max-width: 768px) {
        .footer {
          padding: 30px 15px;
        }
        .footer-content {
          grid-template-columns: 1fr;
          gap: 25px;
        }
      }
      @media (max-width: 768px) {
        .new-section {
          padding: 35px 15px;
        }
        .new-section-container {
          padding: 25px 20px;
        }
        .new-section-title {
          margin-bottom: 22px;
          font-size: clamp(1.1rem, 4vw, 1.6rem);
        }
        .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
        }
        .prizes-images-container {
          flex-direction: column;
          gap: 25px;
        }
        .prize-image-wrapper {
          min-width: 100%;
          max-width: 100%;
        }
        .prize-image-placeholder {
          max-height: 400px;
        }
      }
      @media (max-width: 480px) {
        .new-section {
          padding: 25px 10px;
        }
        .new-section-container {
          padding: 18px 12px;
          border-radius: 12px;
        }
        .rules-item, .schedule-item, .prizes-item, .report-item, .stats-item {
          padding: 12px 15px;
          margin-bottom: 15px;
          touch-action: manipulation;
          -webkit-tap-highlight-color: rgba(42, 125, 74, 0.2);
        }
        .schedule-time {
          min-width: auto;
          display: block;
          margin-bottom: 5px;
        }
        .schedule-match {
          margin-left: 0;
        }
        .stats-grid {
          grid-template-columns: 1fr;
          gap: 12px;
        }
      }
      .bracket-scroll {
        overflow-x: auto;
        padding: 15px 0;
        margin-bottom: 18px;
        max-width: 100vw;
        position: relative;
        z-index: 1;
      }
      .bracket-grid {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        min-width: 780px;
        gap: 22px;
        padding: 2vw 2vw;
      }
      .bracket-col {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 6px;
      }
      .br-slot {
        background: #0926160c;
        border: 2px solid #2d8f47;
        border-radius: 6px;
        min-width: 73px;
        min-height: 28px;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 2px 7px;
        color: #befadb;
        font-family: 'Consolas', monospace;
        font-size: clamp(0.86rem,1.8vw,1.13rem);
        margin: 2.5px 0;
        box-sizing: border-box;
        box-shadow: 0 1px 6px #038f2c22;
        position: relative;
      }
      .br-slot .score {
        color: #94ff7e;
        font-size: 0.92em;
        margin-left: 9px;
        min-width: 1.3em;
        text-align: right;
      }
      .bracket-col.champion {
        align-items: center;
        justify-content: center;
        min-width: 90px;
      }
      .br-champion {
        border: 3.4px solid #17e22c;
        font-weight: 900;
        padding: 16px 9px 12px 9px;
        color: #fff;
        background: #113d18f2;
        border-radius: 9px;
        font-size: clamp(1rem,2.8vw,1.94rem);
        text-shadow: 0 0 7px #59ffb77e;
        min-width: 73px;
        margin-top: 22px;
        box-shadow: 0 0 12px #42ff6170;
      }
      /* Linie tworzƒÖce drabinkƒô - przy prostym CSS nie rysujemy, tylko sloty! */
      @media (max-width: 900px) {
        .bracket-grid {padding: 1vw; min-width:660px;}
        .br-slot {font-size: clamp(0.79rem,2vw,1rem);}
      }
      @media (max-width: 600px) {
        .bracket-grid {min-width:500px;gap:10px;padding:0 2vw;}
        .br-slot {font-size: clamp(0.7rem,2.18vw,0.93rem);}
        .br-champion {font-size: clamp(0.9rem,3vw,1.3rem);}
      }
      .bracket-grid2 {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        min-width: 920px;
        gap: 28px;
        padding: 2vw;
      }
      .br-side {
        display: flex;
        flex-direction: row;
        gap: 10px;
        align-items: center;
        min-width: 260px;
      }
      .br-side.left {justify-content: flex-end;}
      .br-side.right {justify-content: flex-start;}
      .br-col {
        display: flex;
        flex-direction: column;
        gap: 15px;
        min-width: 75px;
      }
      .br-slot {
        border: 2px solid #2d8f47;
        background: #0926160c;
        border-radius: 6px;
        min-width: 67px;
        min-height: 27px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #befadb;
        font-family: 'Consolas', monospace;
        font-size: clamp(0.74rem,1.5vw,1.1rem);
        box-sizing: border-box;
        padding: 0 8px;
        box-shadow: 0 1px 4px #038f2c17;
      }
      /* Center blok na finalist√≥w i zwyciƒôzcƒô */
      .br-center {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 48px;
        min-width: 90px;
        max-width: 150px;
      }
      .br-final-slot {
        border: 2.5px solid #2d8f47;
        background: #183b29;
        font-weight: 700;
        padding: 14px 6px 14px 6px;
        color: #fff;
        border-radius: 7px;
        font-size: clamp(0.95rem,2.2vw,1.26rem);
        text-align: center;
        margin: 4px;
        box-shadow: 0 0 12px #09ff7d1b;
        min-width: 58px;
      }
      .br-winner-slot {
        border: 3px solid #2a9d6b;
        background: #127134;
        font-weight: 900;
        color: #fff;
        border-radius: 13px;
        font-size: clamp(1.13rem,2.7vw,1.68rem);
        letter-spacing: 0.08em;
        margin: 10px 0;
        padding: 19px 12px 16px 12px;
        box-shadow: 0 0 16px #12ff8c7e;
      }
      @media (max-width: 1200px) {
        .bracket-grid2 {min-width:650px;gap:7px;}
        .br-final-slot {font-size: clamp(0.92rem,2.5vw,1.04rem);padding:10px 1px;min-width:41px;}
        .br-winner-slot {font-size:clamp(0.76rem,3vw,1.07rem);padding:10px 3px 10px 3px;}
      }
      @media (max-width: 750px) {
        .bracket-grid2 {min-width:470px;}
        .br-col {min-width:40px;gap:6px;}
        .br-slot {font-size:.78rem;min-height:18px;}
        .br-side {min-width:140px;}
        .br-final-slot {font-size:.72rem;min-width:31px;}
        .br-winner-slot {font-size:.92rem;}
      }
      /* Rechte Seite: Slot-Boxen an rechter Kante wie w Bracket */
      .br-side.right {
        align-items: flex-end;
      }
      .br-side.right .br-col {
        align-items: flex-end;
      }
      .br-side.right .br-slot {
        margin-left: auto;
        text-align: left;
        flex-direction: row;
        justify-content: flex-start;
      }
      /* Rechte Seite: Spalten & Sloty jako lustrzane odbicie */
      .br-side.right .br-col {
        flex-direction: column-reverse;
        align-items: flex-end;
      }
      .br-side.right .br-slot {
        text-align: right;
        justify-content: flex-end;
      }
      .bracket-grid3 {
        display: grid;
        grid-template-columns: repeat(9, minmax(53px, 1fr));
        grid-template-rows: repeat(15, minmax(27px, 1fr));
        gap: 10px 18px;
        min-width: 950px;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        padding: 20px 5vw;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      @media (max-width: 1200px) {
        .bracket-grid3 {
          min-width: 100%;
          overflow-x: auto;
          padding: 15px 10px;
        }
        .tabela-bracket-wrapper {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }
      }
      @media (max-width: 768px) {
        .bracket-grid3 {
          gap: 8px 12px;
          padding: 10px 5px;
        }
        .br-slot {
          font-size: clamp(0.7rem, 2vw, 0.9rem);
          min-width: 50px;
          padding: 6px 8px;
        }
      }
      .br-slot {
        border: 2px solid #2d8f47;
        background: rgba(9, 38, 22, 0.5);
        border-radius: 8px;
        color: #befadb;
        font-family: 'Consolas', monospace;
        font-size: clamp(0.85rem,1.8vw,1.19rem);
        min-width: 64px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        padding: 8px 10px;
        box-shadow: 0 2px 8px rgba(3, 143, 44, 0.2);
        text-align: center;
        min-height: 32px;
        transition: all 0.3s ease;
      }
      .br-slot:hover {
        background: rgba(15, 50, 30, 0.7);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(45, 143, 71, 0.3);
      }
      .br-slot.winner {
        background: linear-gradient(135deg, rgba(19, 59, 34, 0.8) 0%, rgba(12, 45, 23, 0.8) 100%);
        border-color: #2a9d6b;
        color: #d5ffe8;
        font-weight: 600;
        box-shadow: 0 2px 12px rgba(42, 157, 107, 0.3);
      }
      .br-slot.winner:hover {
        box-shadow: 0 4px 16px rgba(42, 157, 107, 0.5);
      }
      .br-slot.final {
        border-width: 3px;
        background: linear-gradient(135deg, #1a5d35 0%, #0f3d22 100%);
        font-weight: 900;
        color: #fff;
        font-size: clamp(1.2rem,2.3vw,1.63rem);
        z-index: 1;
        padding: 12px 14px;
        box-shadow: 0 4px 20px rgba(45, 143, 71, 0.4), 0 0 40px rgba(42, 125, 74, 0.2);
        text-shadow: 0 2px 10px rgba(42, 125, 74, 0.5);
      }
      .br-slot.final.champion {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        border-color: #4ade80;
        animation: championGlow 2s ease-in-out infinite;
      }
      @keyframes championGlow {
        0%, 100% {
          box-shadow: 0 4px 20px rgba(34, 197, 94, 0.5), 0 0 40px rgba(34, 197, 94, 0.3);
        }
        50% {
          box-shadow: 0 4px 30px rgba(34, 197, 94, 0.7), 0 0 60px rgba(34, 197, 94, 0.5);
        }
      }
      @media (max-width: 1200px) {
        .bracket-grid3 {min-width: 600px;gap:5px 3vw;}
        .br-slot {font-size: 0.93rem;}
        .br-slot.final {font-size: 1.15rem;}
      }
      @media (max-width: 750px) {
        .bracket-grid3 {min-width:450px;gap:2px 1vw;}
        .br-slot {font-size:.85rem;min-width:38px;}
        .br-slot.final {font-size:.96rem;}
      }
      @media (max-width: 650px) {
        .bracket-grid3 {
          min-width: 310px;
          gap:2px 1vw;
          padding:7px 2vw;
        }
        .br-slot {
          font-size:.67rem; min-width:28px; min-height:15px; padding:0 3px;
        }
        .br-slot.final{
          font-size:.83rem; padding:5px 1px;
        }
      }
      @media (max-width: 500px) {
        .bracket-grid3 {
          min-width: 180px;
          gap:1px 1vw;
          padding:2px 2vw;
        }
        .br-slot {
          font-size:.55rem; min-width:15px; min-height:9px; padding:0 1px;
        }
        .br-slot.final{
          font-size:.63rem; padding:2px 0;
        }
      }
    </style>
</head>
<body>
    <!-- Sticky Navigation -->
    <nav class="sticky-nav" id="stickyNav">
      <div class="nav-container">
        <a href="#organisatoren" class="nav-link">Organisatoren</a>
        <a href="#info" class="nav-link">Informationen</a>
        <a href="#tabela" class="nav-link">Ergebnisse</a>
        <a href="#zasady" class="nav-link">Regeln</a>
        <a href="#harmonogram" class="nav-link">Zeitplan</a>
        <a href="#nagrody" class="nav-link">Preise</a>
        <a href="#statystyki" class="nav-link">Statistiken</a>
        <button class="nav-link admin-btn" id="adminBtn" style="cursor: pointer; border: none; font-family: inherit;">üîê Admin</button>
      </div>
    </nav>
    
    <!-- Participants Sidebar -->
    <div class="participants-sidebar" id="participantsSidebar">
        <div class="participants-sidebar-header">
            <div style="flex: 1;">
                <div class="participants-sidebar-title">Teilnehmer</div>
                <div class="participants-count" id="participantsCount">0</div>
            </div>
            <button class="participants-sidebar-toggle" id="participantsSidebarToggle">
                <span class="toggle-icon">‚óÄ</span>
                <span class="toggle-text">Ausblenden</span>
            </button>
        </div>
        <ul class="participants-list" id="participantsList">
            <li class="no-participants-message">Keine Teilnehmer vorhanden</li>
        </ul>
    </div>
    
    <!-- Button to expand collapsed sidebar -->
    <button class="participants-sidebar-expand-btn" id="participantsSidebarExpandBtn">
        <span class="toggle-icon">‚ñ∂</span>
        <span class="toggle-text">Teilnehmer</span>
    </button>
    
    <!-- Haupttitel -->
    <section class="main-title-section">
      <h1 class="main-title">TISCHTENNISTURNIER</h1>
    </section>
    
    <!-- Organisatoren Sektion -->
    <section class="organizers-section fade-in" id="organisatoren">
      <div class="organizers-title">Organisiert von</div>
      <div class="organizers-list">
        <div class="organizer-card">
          <div class="organizer-name">Robert</div>
        </div>
        <div class="organizer-card">
          <div class="organizer-name">Malte</div>
        </div>
        <div class="organizer-card">
          <div class="organizer-name">Jechor</div>
        </div>
        <div class="organizer-card">
          <div class="organizer-name">Moriz</div>
        </div>
      </div>
    </section>
    
    <!-- Turnier-Informationen -->
    <section class="tournament-info-section fade-in" id="info">
      <div class="tournament-info-container">
        <div class="tournament-info-title">Turnier-Informationen</div>
        <ul class="tournament-info-list">
          <li class="tournament-info-item">
            <span class="tournament-info-icon">üèì</span>
            <div class="tournament-info-text">
              Dies ist ein <strong>Einzel-Turnier</strong> (Singles-Turnier) im Tischtennis.
            </div>
          </li>
          <li class="tournament-info-item">
            <span class="tournament-info-icon">‚öîÔ∏è</span>
            <div class="tournament-info-text">
              <strong>Ausgeschiedene Spieler</strong> werden untereinander in separaten Spielen antreten und <strong>Punkte in einer separaten Tabelle</strong> sammeln.
            </div>
          </li>
          <li class="tournament-info-item">
            <span class="tournament-info-icon">üìä</span>
            <div class="tournament-info-text">
              Die Hauptturnier-Ergebnisse werden in der <strong>Haupttabelle</strong> angezeigt, w√§hrend die Ergebnisse der ausgeschiedenen Spieler in einer <strong>separaten Punkte-Tabelle</strong> gef√ºhrt werden.
            </div>
          </li>
        </ul>
      </div>
    </section>
    
    <!-- Ergebnistabelle -->
    <section class="tabela-section fade-in" id="tabela">
      <div class="tabela-header">SPIELERGEBNISSE</div>
      <div class="tabela-desc">Aktuelle Turnierergebnisse</div>
      
      <!-- Ergebnistabelle -->
      <div class="tabela-bracket-wrapper">
        <div class="tables-container" id="tablesContainer">
          <!-- Tabele werden dynamisch durch JavaScript hinzugef√ºgt -->
        </div>
        <div class="no-tables-message" id="noTablesMessage">
          <strong>Keine Turniere vorhanden</strong>
          Es wurden noch keine Turniertabellen erstellt.<br>
          Bitte melden Sie sich als Administrator an, um ein Turnier zu erstellen.
        </div>
      </div>
    </section>
    
    <!-- Turnierregeln -->
    <section class="new-section slide-in-left" id="zasady">
      <div class="new-section-container">
        <div class="new-section-title">üìã Turnierregeln</div>
        <div class="new-section-content">
          <ul class="rules-list">
            <li class="rules-item">
              <strong>üèì Format</strong>
              <span>Einzel-Turnier im K.-o.-System (Knockout) mit Trostrunde f√ºr ausgeschiedene Spieler.</span>
            </li>
            <li class="rules-item">
              <strong>üìä Punktzahl</strong>
              <span>Jeder Satz wird bis 11 Punkte gespielt, mit mindestens 2 Punkten Vorsprung. Gewinnt, wer 3 S√§tze f√ºr sich entscheidet.</span>
            </li>
            <li class="rules-item">
              <strong>üéØ Aufschlag</strong>
              <span>Der Aufschlag wechselt alle 2 Punkte. Bei Unentschieden 10:10 wechselt der Aufschlag bei jedem Punkt.</span>
            </li>
            <li class="rules-item">
              <strong>ü§ù Fair Play</strong>
              <span>Alle Spieler sind verpflichtet, die Fair-Play-Regeln einzuhalten. Nichteinhaltung kann zur Disqualifikation f√ºhren.</span>
            </li>
            <li class="rules-item">
              <strong>‚è∏Ô∏è Pausen</strong>
              <span>Zwischen den S√§tzen gibt es eine 1-min√ºtige Pause. W√§hrend der Pause k√∂nnen sich die Spieler mit ihrem Trainer beraten.</span>
            </li>
            <li class="rules-item">
              <strong>‚è∞ Versp√§tungen</strong>
              <span>Ein Spieler hat 5 Minuten Zeit, zum Spiel zu erscheinen. Eine Versp√§tung von mehr als 5 Minuten bedeutet Spielverlust.</span>
            </li>
            <li class="rules-item">
              <strong>üéæ Ausr√ºstung</strong>
              <span>Alle Schl√§ger und B√§lle m√ºssen den ITTF-Vorschriften entsprechen. Die Organisatoren stellen konforme Ausr√ºstung bereit.</span>
            </li>
            <li class="rules-item">
              <strong>‚öñÔ∏è Schiedsrichterentscheidungen</strong>
              <span>Die Entscheidungen des Schiedsrichters sind endg√ºltig. Alle Proteste m√ºssen vor Beginn des n√§chsten Spiels eingereicht werden.</span>
            </li>
          </ul>
        </div>
      </div>
    </section>
    
    <!-- Zeitplan -->
    <section class="new-section slide-in-right" id="harmonogram">
      <div class="new-section-container">
        <div class="new-section-title">üìÖ Zeitplan</div>
        <div class="new-section-content">
          <h3 style="color: #2a7d4a; margin-bottom: 20px; font-size: clamp(1.1rem, 2.5vw, 1.4rem);">Tag 1 - Samstag, XX.XX.XXXX</h3>
          <ul class="schedule-list">
            <li class="schedule-item">
              <span class="schedule-time">09:00 - 09:30</span>
              <span class="schedule-match"><strong>Turnierer√∂ffnung</strong> - Anmeldung der Spieler, Auslosung der Paarungen</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">09:30 - 11:00</span>
              <span class="schedule-match"><strong>Achtelfinale</strong> - 8 Spiele des Hauptturniers</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">11:00 - 11:15</span>
              <span class="schedule-match"><strong>Pause</strong></span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">11:15 - 12:30</span>
              <span class="schedule-match"><strong>Viertelfinale</strong> - 4 Spiele des Hauptturniers</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">12:30 - 13:30</span>
              <span class="schedule-match"><strong>Mittagspause</strong></span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">13:30 - 14:30</span>
              <span class="schedule-match"><strong>Halbfinale</strong> - 2 Spiele des Hauptturniers</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">14:30 - 15:00</span>
              <span class="schedule-match"><strong>FINALE</strong> - Das Endspiel</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">15:00 - 16:00</span>
              <span class="schedule-match"><strong>Turnier der Ausgeschiedenen</strong> - Achtelfinale und Viertelfinale</span>
            </li>
          </ul>
          
          <h3 style="color: #2a7d4a; margin: 30px 0 20px 0; font-size: clamp(1.1rem, 2.5vw, 1.4rem);">Tag 2 - Sonntag, XX.XX.XXXX</h3>
          <ul class="schedule-list">
            <li class="schedule-item">
              <span class="schedule-time">10:00 - 11:00</span>
              <span class="schedule-match"><strong>Turnier der Ausgeschiedenen</strong> - Halbfinale und Finale</span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">11:00 - 11:30</span>
              <span class="schedule-match"><strong>Pause</strong></span>
            </li>
            <li class="schedule-item">
              <span class="schedule-time">11:30 - 12:30</span>
              <span class="schedule-match"><strong>Preisverleihung</strong> - √úbergabe der Medaillen und Preise</span>
            </li>
          </ul>
        </div>
      </div>
    </section>
    
    <!-- Preise -->
    <section class="new-section scale-in" id="nagrody">
      <div class="new-section-container">
        <div class="new-section-title">üèÜ Preise</div>
        <div class="new-section-content">
          <div style="text-align: center; margin-bottom: 30px;">
            <p style="color: #c5ffd4; font-family: 'Consolas', monospace; font-size: clamp(1rem, 2.5vw, 1.2rem); line-height: 1.6;">
              Hier werden die Dyplome f√ºr die Hauptpreise und die Preise f√ºr die Ausgeschiedenen angezeigt.
            </p>
          </div>
          
          <div class="prizes-images-container">
            <div class="prize-image-wrapper">
              <h3 style="color: #2a7d4a; margin-bottom: 15px; font-size: clamp(1rem, 2.5vw, 1.3rem); text-align: center;">Hauptpreis</h3>
              <div class="prize-image-placeholder">
                <img src="" alt="Hauptpreis Dyplom" class="prize-image" id="prizeMainImage" style="display: none;">
                <div class="prize-image-text" id="prizeMainPlaceholder">Platz f√ºr Dyplom<br>Hauptpreis</div>
              </div>
            </div>
            
            <div class="prize-image-wrapper">
              <h3 style="color: #2a7d4a; margin-bottom: 15px; font-size: clamp(1rem, 2.5vw, 1.3rem); text-align: center;">Preis f√ºr Ausgeschiedene</h3>
              <div class="prize-image-placeholder">
                <img src="" alt="Preis f√ºr Ausgeschiedene Dyplom" class="prize-image" id="prizeEliminatedImage" style="display: none;">
                <div class="prize-image-text" id="prizeEliminatedPlaceholder">Platz f√ºr Dyplom<br>Ausgeschiedene</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Statistiken -->
    <section class="new-section fade-in" id="statystyki">
      <div class="new-section-container">
        <div class="new-section-title">üìä Statistiken</div>
        <div class="new-section-content">
          <div class="stats-grid" id="statsGrid">
            <!-- Stats will be populated dynamically -->
          </div>
          
          <h3 style="color: #2a7d4a; margin: 40px 0 20px 0; font-size: clamp(1.1rem, 2.5vw, 1.4rem);">Turnierrekorde</h3>
          <ul class="stats-list" id="statsRecordsList">
            <!-- Records will be populated dynamically -->
          </ul>
        </div>
      </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <div class="footer-title">Klasse</div>
          <div class="footer-info">HBEI52</div>
        </div>
        <div class="footer-section">
          <div class="footer-title">Schule</div>
          <div class="footer-info">Carl-Miele Berufskolleg<br>in G√ºtersloh</div>
        </div>
        <div class="footer-section">
          <div class="footer-title">Team</div>
          <div class="footer-team">
            <div class="footer-team-member"><strong>Robert</strong> - Programmierer</div>
            <div class="footer-team-member"><strong>Malte</strong> - Texte</div>
            <div class="footer-team-member"><strong>Moritz</strong> - Texte</div>
            <div class="footer-team-member"><strong>Yechor</strong> - Texte</div>
          </div>
        </div>
      </div>
    </footer>
    
    <!-- Admin Login Modal -->
    <div class="admin-modal" id="adminModal">
      <div class="admin-modal-content">
        <button class="admin-modal-close" id="adminModalClose">&times;</button>
        <div class="admin-modal-title">Admin Login</div>
        <form id="adminLoginForm">
          <div class="admin-form-group">
            <label class="admin-form-label" for="adminUsername">Benutzername</label>
            <input type="text" id="adminUsername" class="admin-form-input" required autocomplete="username">
          </div>
          <div class="admin-form-group">
            <label class="admin-form-label" for="adminPassword">Passwort</label>
            <input type="password" id="adminPassword" class="admin-form-input" required autocomplete="current-password">
          </div>
          <div class="admin-error" id="adminError">Falscher Benutzername oder Passwort!</div>
          <button type="submit" class="admin-form-submit">Anmelden</button>
        </form>
      </div>
    </div>
    
    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
      <div class="admin-panel-header">
        <div class="admin-panel-title">üîê Admin Panel</div>
        <div style="display: flex; gap: 10px; align-items: center;">
          <button class="admin-panel-close" id="adminPanelHomeBtn">üè† Zur Hauptseite</button>
        <button class="admin-panel-close" id="adminPanelClose">Abmelden</button>
        </div>
      </div>
      <div class="admin-panel-content">
        <div class="admin-panel-section">
          <div class="admin-panel-section-title">Turnierverwaltung</div>
          <p style="color: #c5ffd4; font-family: 'Consolas', monospace; line-height: 1.8;">
            Hier k√∂nnen Sie Turnierergebnisse verwalten, Spieler hinzuf√ºgen, 
            Ergebnisse aktualisieren und alle administrativen Aufgaben durchf√ºhren.
          </p>
          <p style="color: #4a9d7a; font-family: 'Consolas', monospace; margin-top: 15px;">
            <strong>Funktionen:</strong><br>
            ‚Ä¢ Ergebnisse bearbeiten<br>
            ‚Ä¢ Spieler verwalten<br>
            ‚Ä¢ Turnierstatus aktualisieren<br>
            ‚Ä¢ Statistiken exportieren
          </p>
        </div>
        
        <div class="admin-panel-section">
          <div class="admin-panel-section-title">Neues Turnier erstellen</div>
          <p style="color: #c5ffd4; font-family: 'Consolas', monospace; line-height: 1.8; margin-bottom: 15px;">
            Erstellen Sie ein neues Turnier, indem Sie die Anzahl der Teilnehmer und deren Namen angeben.
          </p>
          <button class="admin-btn-primary" id="createTableBtn">+ Neues Turnier erstellen</button>
          
          <div class="create-table-panel" id="createTablePanel">
            <div class="admin-form-group">
              <label class="admin-form-label" for="playerCount">Anzahl der Teilnehmer</label>
              <input type="number" id="playerCount" class="admin-form-input" min="4" max="32" value="16" required>
              <small style="color: #4a9d7a; font-size: 0.85rem; margin-top: 5px; display: block;">
                Die Anzahl muss eine Potenz von 2 sein (4, 8, 16, 32)
              </small>
            </div>
            
            <div id="playersInputContainer" class="players-input-container">
              <!-- Input fields will be generated here -->
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
              <button type="button" class="admin-btn-primary" id="generateInputsBtn">Eingabefelder generieren</button>
              <button type="button" class="admin-btn-primary" id="createTableSubmitBtn" style="display: none;">Turnier erstellen</button>
              <button type="button" class="admin-panel-close" id="cancelCreateBtn" style="margin: 0;">Abbrechen</button>
            </div>
          </div>
        </div>
        
        <div class="admin-panel-section">
          <div class="admin-panel-section-title">Schnellaktionen</div>
          <p style="color: #c5ffd4; font-family: 'Consolas', monospace; line-height: 1.8;">
            Verwenden Sie die folgenden Funktionen f√ºr h√§ufige administrative Aufgaben.
          </p>
          <button class="admin-btn-primary" id="openArchiveBtn" style="margin-top: 15px;">üìÅ Archiv √∂ffnen</button>
          <button class="admin-btn-primary" id="resetStatsBtn" style="margin-top: 15px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); border-color: #ff6b6b;">üîÑ Alle Statistiken zur√ºcksetzen</button>
        </div>
        
        <div class="admin-panel-section">
          <div class="admin-panel-section-title">Systeminformationen</div>
          <p style="color: #c5ffd4; font-family: 'Consolas', monospace; line-height: 1.8;">
            <strong>Angemeldet als:</strong> <span id="adminUsernameDisplay" style="color: #2a7d4a;">-</span><br>
            <strong>Session:</strong> Aktiv<br>
            <strong>Letzte Aktivit√§t:</strong> <span id="adminLastActivity">-</span>
          </p>
        </div>
        
        <div class="admin-panel-section">
          <div class="admin-panel-section-title">Turniertabellen - Vorschau</div>
          <div style="margin-top: 20px;">
            <div class="tabela-bracket-wrapper" style="padding: 0; max-width: 100%;">
              <div class="tables-container" id="adminTablesContainer">
                <!-- Tabele bƒôdƒÖ dodawane dynamicznie przez JavaScript -->
              </div>
              <div class="no-tables-message" id="adminNoTablesMessage" style="padding: 40px 20px;">
                <strong>Keine Turniere vorhanden</strong>
                Erstellen Sie zuerst ein Turnier, um Tabellen anzuzeigen.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Winner Celebration Modal -->
    <div id="winnerModal" class="winner-modal">
        <div class="winner-content">
            <div class="winner-title">üèÜ GEWINNER üèÜ</div>
            <div class="winner-name" id="winnerName"></div>
            <div class="winner-score" id="winnerScore"></div>
            <button class="winner-close-btn" id="winnerCloseBtn">Schlie√üen</button>
        </div>
        <canvas id="fireworksCanvas" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
    </div>
    
    <!-- Match Edit Modal -->
    <div class="match-edit-modal" id="matchEditModal">
        <div class="match-edit-content">
            <button class="match-edit-close" id="matchEditModalClose">√ó</button>
            <div class="match-edit-title" id="matchEditModalTitle">Mecz bearbeiten</div>
            <div class="match-edit-subtitle" id="matchEditModalRound" style="text-align: center; color: #4a9d7a; margin-bottom: 20px; font-size: clamp(0.9rem, 2vw, 1.1rem);">Runde</div>
            
            <div class="match-players">
                <div class="match-player">
                    <div class="match-player-name" id="matchEditPlayer1Name">Spieler 1</div>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 10px; flex-wrap: nowrap; width: 100%; box-sizing: border-box;">
                        <button type="button" class="admin-panel-close" id="matchEditPlayer1Minus" style="width: 40px; height: 40px; padding: 0; font-size: 20px; flex-shrink: 0;">‚àí</button>
                        <input type="number" id="matchEditPlayer1Score" class="match-player-input" min="0" max="50" value="0" style="flex-shrink: 0;">
                        <button type="button" class="admin-panel-close" id="matchEditPlayer1Plus" style="width: 40px; height: 40px; padding: 0; font-size: 20px; flex-shrink: 0;">+</button>
                    </div>
                </div>
                <div class="match-vs">VS</div>
                <div class="match-player">
                    <div class="match-player-name" id="matchEditPlayer2Name">Spieler 2</div>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 10px; flex-wrap: nowrap; width: 100%; box-sizing: border-box;">
                        <button type="button" class="admin-panel-close" id="matchEditPlayer2Minus" style="width: 40px; height: 40px; padding: 0; font-size: 20px; flex-shrink: 0;">‚àí</button>
                        <input type="number" id="matchEditPlayer2Score" class="match-player-input" min="0" max="50" value="0" style="flex-shrink: 0;">
                        <button type="button" class="admin-panel-close" id="matchEditPlayer2Plus" style="width: 40px; height: 40px; padding: 0; font-size: 20px; flex-shrink: 0;">+</button>
                    </div>
                </div>
            </div>
            
            <div class="stopwatch-section" style="margin-bottom: 20px; text-align: center;">
                <div class="stopwatch-display" id="matchEditStopwatchDisplay">00:00:00</div>
                <div class="stopwatch-controls" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <button type="button" class="stopwatch-btn start" id="matchEditStopwatchStart">Start</button>
                    <button type="button" class="stopwatch-btn stop" id="matchEditStopwatchStop" disabled>Stop</button>
                    <button type="button" class="stopwatch-btn reset" id="matchEditStopwatchReset">Reset</button>
                </div>
            </div>
            
            <select id="matchEditStatus" class="match-status-select">
                <option value="pending">Ausstehend</option>
                <option value="complete">Abgeschlossen</option>
            </select>
            
            <button type="button" class="match-save-btn" id="matchEditSaveBtn">Speichern</button>
        </div>
    </div>
    
    <!-- Player Stats Modal -->
    <div class="player-stats-modal" id="playerStatsModal">
        <div class="player-stats-content">
            <button class="player-stats-close" id="playerStatsModalClose">√ó</button>
            <div class="player-stats-title" id="playerStatsTitle">Spieler Statistik</div>
            
            <div class="player-stats-header">
                <div class="player-stats-name" id="playerStatsName">-</div>
                <div class="player-stats-basic-info" id="playerStatsBasicInfo"></div>
            </div>
            
            <div class="player-stats-section">
                <h3 class="player-stats-section-title">üìä √úbersicht</h3>
                <div class="player-stats-grid" id="playerStatsOverview">
                    <!-- Stats will be populated here -->
                </div>
            </div>
            
            <div class="player-stats-section">
                <h3 class="player-stats-section-title">üéÆ Alle Spiele</h3>
                <div class="player-stats-matches" id="playerStatsMatches">
                    <!-- Matches will be populated here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts am Ende f√ºr Performance -->
    
    <!-- Navigation and Scroll Animations -->
    <script>
    // Sticky Navigation - Show/Hide on scroll
    let lastScrollTop = 0;
    const stickyNav = document.getElementById('stickyNav');
    const navLinks = document.querySelectorAll('.nav-link');
    
    window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // Show/hide nav based on scroll direction
        if (scrollTop > 200) {
            stickyNav.classList.remove('hidden');
            stickyNav.classList.add('visible');
        } else if (scrollTop > 100) {
            stickyNav.classList.remove('hidden');
            stickyNav.classList.add('visible');
        } else {
            stickyNav.classList.add('hidden');
            stickyNav.classList.remove('visible');
        }
        
        // Update active link based on current section
        let currentSection = '';
        const sections = document.querySelectorAll('section[id]');
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop - 100;
            const sectionHeight = section.offsetHeight;
            
            if (scrollTop >= sectionTop && scrollTop < sectionTop + sectionHeight) {
                currentSection = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === '#' + currentSection) {
                link.classList.add('active');
            }
        });
        
        lastScrollTop = scrollTop;
    });
    
    // Smooth scroll for navigation links
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Scroll Animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                // Optional: Stop observing after animation
                // observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    
    // Observe all elements with animation classes
    document.addEventListener('DOMContentLoaded', function() {
        const animatedElements = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .scale-in');
        animatedElements.forEach(el => {
            observer.observe(el);
        });
    });
    </script>
    
    <!-- Admin Login System -->
    <script>
    // Admin credentials (in production, this should be on the server)
    const ADMIN_CREDENTIALS = {
        username: 'admin',
        password: 'admin123'
    };
    
    // DOM elements
    const adminBtn = document.getElementById('adminBtn');
    const adminModal = document.getElementById('adminModal');
    const adminModalClose = document.getElementById('adminModalClose');
    const adminLoginForm = document.getElementById('adminLoginForm');
    const adminError = document.getElementById('adminError');
    const adminPanel = document.getElementById('adminPanel');
    const adminPanelClose = document.getElementById('adminPanelClose');
    const adminUsernameDisplay = document.getElementById('adminUsernameDisplay');
    const adminLastActivity = document.getElementById('adminLastActivity');
    
    // Check if user is already logged in
    function checkAdminSession() {
        const isLoggedIn = sessionStorage.getItem('adminLoggedIn') === 'true';
        if (isLoggedIn) {
            adminBtn.textContent = 'üîê Admin ‚úì';
            adminBtn.classList.add('logged-in');
        }
    }
    
    // Open login modal
    adminBtn.addEventListener('click', function() {
        const isLoggedIn = sessionStorage.getItem('adminLoggedIn') === 'true';
        if (isLoggedIn) {
            openAdminPanel();
        } else {
            adminModal.classList.add('active');
            adminError.classList.remove('active');
            document.getElementById('adminUsername').focus();
        }
    });
    
    // Close login modal
    adminModalClose.addEventListener('click', function() {
        adminModal.classList.remove('active');
        adminLoginForm.reset();
        adminError.classList.remove('active');
    });
    
    // Close modal when clicking outside
    adminModal.addEventListener('click', function(e) {
        if (e.target === adminModal) {
            adminModal.classList.remove('active');
            adminLoginForm.reset();
            adminError.classList.remove('active');
        }
    });
    
    // Handle login form submission
    adminLoginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const username = document.getElementById('adminUsername').value;
        const password = document.getElementById('adminPassword').value;
        
        // Check credentials
        if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
            // Login successful
            sessionStorage.setItem('adminLoggedIn', 'true');
            sessionStorage.setItem('adminUsername', username);
            sessionStorage.setItem('adminLoginTime', new Date().toLocaleString('de-DE'));
            
            // Close modal
            adminModal.classList.remove('active');
            adminLoginForm.reset();
            adminError.classList.remove('active');
            
            // Update button
            adminBtn.textContent = 'üîê Admin ‚úì';
            adminBtn.classList.add('logged-in');
            
            // Open admin panel
            openAdminPanel();
        } else {
            // Login failed
            adminError.classList.add('active');
            document.getElementById('adminPassword').value = '';
            document.getElementById('adminPassword').focus();
        }
    });
    
    // Open admin panel
    function openAdminPanel() {
        const username = sessionStorage.getItem('adminUsername') || 'Admin';
        const loginTime = sessionStorage.getItem('adminLoginTime') || new Date().toLocaleString('de-DE');
        
        adminUsernameDisplay.textContent = username;
        adminLastActivity.textContent = loginTime;
        
        adminPanel.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Refresh tables in admin panel
        setTimeout(function() {
            if (typeof refreshAdminTables === 'function') {
                refreshAdminTables();
            }
        }, 100);
    }
    
    // Navigate to main page from admin panel
    const adminPanelHomeBtn = document.getElementById('adminPanelHomeBtn');
    adminPanelHomeBtn.addEventListener('click', function() {
        // Close panel
        adminPanel.classList.remove('active');
        document.body.style.overflow = '';
        
        // Scroll to top smoothly
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    
    // Close admin panel and logout
    adminPanelClose.addEventListener('click', function() {
        // Logout
        sessionStorage.removeItem('adminLoggedIn');
        sessionStorage.removeItem('adminUsername');
        sessionStorage.removeItem('adminLoginTime');
        
        // Close panel
        adminPanel.classList.remove('active');
        document.body.style.overflow = '';
        
        // Update button
        adminBtn.textContent = 'üîê Admin';
        adminBtn.classList.remove('logged-in');
    });
    
    // Close panel when pressing Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            if (adminPanel.classList.contains('active')) {
                adminPanelClose.click();
            }
            if (adminModal.classList.contains('active')) {
                adminModalClose.click();
            }
        }
    });
    
    // Initialize on page load
    checkAdminSession();
    </script>
    
    <!-- Tournament Table Creation System -->
    <script>
    // DOM elements
    const createTableBtn = document.getElementById('createTableBtn');
    const createTablePanel = document.getElementById('createTablePanel');
    const playerCountInput = document.getElementById('playerCount');
    const generateInputsBtn = document.getElementById('generateInputsBtn');
    const playersInputContainer = document.getElementById('playersInputContainer');
    const createTableSubmitBtn = document.getElementById('createTableSubmitBtn');
    const cancelCreateBtn = document.getElementById('cancelCreateBtn');
    const tablesContainer = document.getElementById('tablesContainer');
    const noTablesMessage = document.getElementById('noTablesMessage');
    
    // Open create table panel
    createTableBtn.addEventListener('click', function() {
        createTablePanel.classList.add('active');
        playerCountInput.focus();
    });
    
    // Cancel creating table
    cancelCreateBtn.addEventListener('click', function() {
        createTablePanel.classList.remove('active');
        playersInputContainer.innerHTML = '';
        createTableSubmitBtn.style.display = 'none';
        playerCountInput.value = 16;
    });
    
    // Generate input fields for players
    generateInputsBtn.addEventListener('click', function() {
        const playerCount = parseInt(playerCountInput.value);
        
        // Validate - must be power of 2
        if (![4, 8, 16, 32].includes(playerCount)) {
            alert('Die Anzahl muss eine Potenz von 2 sein (4, 8, 16, 32)');
            return;
        }
        
        playersInputContainer.innerHTML = '';
        
        for (let i = 1; i <= playerCount; i++) {
            const playerItem = document.createElement('div');
            playerItem.className = 'player-input-item';
            playerItem.innerHTML = `
                <label class="player-input-label">Spieler ${i}</label>
                <input type="text" class="player-input-field" id="player${i}" placeholder="Name ${i}" required>
            `;
            playersInputContainer.appendChild(playerItem);
        }
        
        createTableSubmitBtn.style.display = 'inline-block';
    });
    
    // Create tournament table
    createTableSubmitBtn.addEventListener('click', function() {
        const playerCount = parseInt(playerCountInput.value);
        const players = [];
        
        // Collect player names
        for (let i = 1; i <= playerCount; i++) {
            const playerName = document.getElementById(`player${i}`).value.trim();
            if (!playerName) {
                alert(`Bitte geben Sie einen Namen f√ºr Spieler ${i} ein.`);
                return;
            }
            players.push(playerName);
        }
        
        // Generate tournament bracket
        const tournamentData = generateTournamentBracket(players);
        
        // Save to localStorage
        localStorage.setItem('tournamentData', JSON.stringify(tournamentData));
        
        // Render tables
        renderTables(tournamentData);
        
        // Close panel and reset
        createTablePanel.classList.remove('active');
        playersInputContainer.innerHTML = '';
        createTableSubmitBtn.style.display = 'none';
        playerCountInput.value = 16;
        
        // Close admin panel
        adminPanel.classList.remove('active');
        document.body.style.overflow = '';
        
        // Scroll to tables
        document.getElementById('tabela').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
    
    // Generate tournament bracket structure
    function generateTournamentBracket(players) {
        const rounds = [];
        const playerCount = players.length;
        
        // Calculate number of rounds
        let roundsCount = Math.log2(playerCount);
        
        // Create initial round (first round)
        const firstRound = [];
        for (let i = 0; i < playerCount; i += 2) {
            firstRound.push({
                player1: players[i],
                player2: players[i + 1],
                score1: null,
                score2: null,
                winner: null,
                status: 'pending'
            });
        }
        rounds.push({ name: getRoundName(roundsCount, roundsCount), matches: firstRound });
        
        // Create empty rounds for future matches
        let currentRoundMatches = firstRound.length / 2;
        for (let r = roundsCount - 1; r > 0; r--) {
            const roundMatches = [];
            for (let m = 0; m < currentRoundMatches; m++) {
                roundMatches.push({
                    player1: null,
                    player2: null,
                    score1: null,
                    score2: null,
                    winner: null,
                    status: 'pending'
                });
            }
            rounds.push({ name: getRoundName(r, roundsCount), matches: roundMatches });
            currentRoundMatches /= 2;
        }
        
        return {
            players: players,
            rounds: rounds,
            createdAt: new Date().toISOString()
        };
    }
    
    // Get round name in German
    function getRoundName(roundNum, totalRounds) {
        if (roundNum === totalRounds) {
            if (totalRounds === 2) return 'Halbfinale';
            if (totalRounds === 3) return 'Viertelfinale';
            if (totalRounds === 4) return 'Achtelfinale';
            if (totalRounds === 5) return '1/16 Finale';
        }
        if (roundNum === 1) return 'FINALE';
        if (roundNum === 2) return 'Halbfinale';
        if (roundNum === 3) return 'Viertelfinale';
        return `${roundNum}. Runde`;
    }
    
    // Calculate tournament progress automatically
    function calculateTournamentProgress(tournamentData) {
        if (!tournamentData || !tournamentData.rounds) return tournamentData;
        
        // Process each round from first to last
        for (let roundIndex = 0; roundIndex < tournamentData.rounds.length - 1; roundIndex++) {
            const round = tournamentData.rounds[roundIndex];
            const nextRound = tournamentData.rounds[roundIndex + 1];
            
            // Check if all matches in this round are complete
            const allMatchesComplete = round.matches.every(match => 
                match.status === 'complete' && match.winner !== null
            );
            
            // If all matches are complete, update next round
            if (allMatchesComplete) {
                // Collect winners from current round
                const winners = round.matches.map(match => match.winner).filter(w => w !== null);
                
                // Assign winners to next round matches in pairs
                for (let i = 0; i < nextRound.matches.length; i++) {
                    const nextMatch = nextRound.matches[i];
                    const winnerIndex = i * 2;
                    
                    // Only assign players if they are not already set (to preserve existing data)
                    if (winnerIndex < winners.length && !nextMatch.player1) {
                        nextMatch.player1 = winners[winnerIndex];
                    }
                    if (winnerIndex + 1 < winners.length && !nextMatch.player2) {
                        nextMatch.player2 = winners[winnerIndex + 1];
                    }
                }
            }
        }
        
        return tournamentData;
    }
    
    // Check if tournament is ready for final
    function getFinalistsInfo(tournamentData) {
        if (!tournamentData || !tournamentData.rounds || tournamentData.rounds.length < 2) {
            return null;
        }
        
        // Find semi-final round (second to last)
        const semiFinalIndex = tournamentData.rounds.length - 2;
        const semiFinal = tournamentData.rounds[semiFinalIndex];
        const finalRound = tournamentData.rounds[tournamentData.rounds.length - 1];
        const finalMatch = finalRound.matches[0];
        
        // Check if semi-final is complete and final has both players
        const semiFinalComplete = semiFinal && semiFinal.matches.every(match => 
            match.status === 'complete' && match.winner !== null
        );
        
        // Check if final has both players assigned
        if (semiFinalComplete && finalMatch.player1 && finalMatch.player2) {
            return {
                player1: finalMatch.player1,
                player2: finalMatch.player2,
                ready: true
            };
        }
        
        return null;
    }
    
    // Check if tournament is complete and get winner
    function getTournamentWinner(tournamentData) {
        if (!tournamentData || !tournamentData.rounds || tournamentData.rounds.length === 0) {
            return null;
        }
        
        const finalRound = tournamentData.rounds[tournamentData.rounds.length - 1];
        if (!finalRound || !finalRound.matches || finalRound.matches.length === 0) {
            return null;
        }
        
        const finalMatch = finalRound.matches[0];
        
        // Check if final match is complete
        if (finalMatch.status === 'complete' && 
            typeof finalMatch.score1 === 'number' && 
            typeof finalMatch.score2 === 'number' &&
            !isNaN(finalMatch.score1) &&
            !isNaN(finalMatch.score2)) {
            
            // Determine winner based on score
            let winner = null;
            if (finalMatch.score1 > finalMatch.score2) {
                winner = finalMatch.player1;
            } else if (finalMatch.score2 > finalMatch.score1) {
                winner = finalMatch.player2;
            } else {
                // Tie - use winner field if available
                winner = finalMatch.winner || finalMatch.player1;
            }
            
            return {
                winner: winner,
                score1: finalMatch.score1,
                score2: finalMatch.score2,
                player1: finalMatch.player1,
                player2: finalMatch.player2
            };
        }
        
        return null;
    }
    
    // Show winner celebration modal
    function showWinnerModal(winnerInfo) {
        const modal = document.getElementById('winnerModal');
        const winnerName = document.getElementById('winnerName');
        const winnerScore = document.getElementById('winnerScore');
        const closeBtn = document.getElementById('winnerCloseBtn');
        
        if (!modal || !winnerName || !winnerScore) return;
        
        // Set winner name and score
        winnerName.textContent = winnerInfo.winner;
        winnerScore.textContent = `${winnerInfo.score1} : ${winnerInfo.score2}`;
        
        // Show modal
        modal.classList.add('active');
        
        // Start fireworks
        startFireworks();
        
        // Close button handler
        closeBtn.onclick = function() {
            modal.classList.remove('active');
            stopFireworks();
        };
        
        // Close on background click
        modal.onclick = function(e) {
            if (e.target === modal) {
                modal.classList.remove('active');
                stopFireworks();
            }
        };
    }
    
    // Fireworks animation
    let fireworksInterval = null;
    let fireworksAnimationId = null;
    let fireworksCtx = null;
    
    function startFireworks() {
        const canvas = document.getElementById('fireworksCanvas');
        if (!canvas) return;
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        fireworksCtx = canvas.getContext('2d');
        
        // Create fireworks periodically
        fireworksInterval = setInterval(createFirework, 500);
        
        // Also create initial fireworks
        for (let i = 0; i < 5; i++) {
            setTimeout(() => createFirework(), i * 200);
        }
    }
    
    function stopFireworks() {
        if (fireworksInterval) {
            clearInterval(fireworksInterval);
            fireworksInterval = null;
        }
        if (fireworksAnimationId) {
            cancelAnimationFrame(fireworksAnimationId);
            fireworksAnimationId = null;
        }
        const canvas = document.getElementById('fireworksCanvas');
        if (canvas && fireworksCtx) {
            fireworksCtx.clearRect(0, 0, canvas.width, canvas.height);
        }
    }
    
    function createFirework() {
        const canvas = document.getElementById('fireworksCanvas');
        if (!canvas || !fireworksCtx) return;
        
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height * 0.5; // Upper half of screen
        
        const colors = ['#2d8f47', '#2a7d4a', '#4a9d7a', '#2a9d6b', '#1a8b45'];
        const particleCount = 30;
        
        for (let i = 0; i < particleCount; i++) {
            const angle = (Math.PI * 2 * i) / particleCount;
            const speed = 2 + Math.random() * 3;
            const tx = Math.cos(angle) * speed * 50;
            const ty = Math.sin(angle) * speed * 50;
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            const particle = document.createElement('div');
            particle.className = 'firework-particle';
            particle.style.background = color;
            particle.style.boxShadow = `0 0 10px ${color}`;
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.setProperty('--tx', tx + 'px');
            particle.style.setProperty('--ty', ty + 'px');
            particle.style.setProperty('--color', color);
            
            document.body.appendChild(particle);
            
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 1000);
        }
    }
    
    // Render tables from tournament data
    function renderTables(tournamentData) {
        if (!tournamentData || !tournamentData.rounds || tournamentData.rounds.length === 0) {
            showNoTablesMessage();
            showAdminNoTablesMessage();
            return;
        }
        
        // Log current data before calculating progress - check specific match scores
        if (tournamentData.rounds && tournamentData.rounds.length > 0) {
            const firstRound = tournamentData.rounds[0];
            if (firstRound.matches && firstRound.matches.length > 0) {
                console.log('Before progress - First match scores:', firstRound.matches[0].score1, ':', firstRound.matches[0].score2);
            }
        }
        
        // Calculate progress before rendering (but don't overwrite existing results)
        tournamentData = calculateTournamentProgress(tournamentData);
        
        // Log after progress calculation - verify scores are preserved
        if (tournamentData.rounds && tournamentData.rounds.length > 0) {
            const firstRound = tournamentData.rounds[0];
            if (firstRound.matches && firstRound.matches.length > 0) {
                console.log('After progress - First match scores:', firstRound.matches[0].score1, ':', firstRound.matches[0].score2);
            }
        }
        
        // Save updated data
        localStorage.setItem('tournamentData', JSON.stringify(tournamentData));
        
        hideNoTablesMessage();
        hideAdminNoTablesMessage();
        
        // Render in main section
        tablesContainer.innerHTML = '';
        const mainTable = createTournamentTable(tournamentData, 'Hauptturnier');
        tablesContainer.appendChild(mainTable);
        
        // Update participants list with tournament data
        updateParticipantsList(tournamentData);
        
        // Update statistics section
        updateStatisticsSection(tournamentData);
        
        // Render in admin panel
        const adminTablesContainer = document.getElementById('adminTablesContainer');
        if (adminTablesContainer) {
            adminTablesContainer.innerHTML = '';
            const adminMainTable = createTournamentTable(tournamentData, 'Hauptturnier', true);
            adminTablesContainer.appendChild(adminMainTable);
        }
        
        // Check if tournament is complete and show winner modal
        const winnerInfo = getTournamentWinner(tournamentData);
        if (winnerInfo) {
            // Check if we've already shown the modal for this tournament
            const lastShownWinner = sessionStorage.getItem('lastShownWinner');
            const tournamentId = tournamentData.id || JSON.stringify(tournamentData);
            
            if (lastShownWinner !== tournamentId + '_' + winnerInfo.winner) {
                // Small delay to ensure tables are rendered first
                setTimeout(() => {
                    showWinnerModal(winnerInfo);
                    sessionStorage.setItem('lastShownWinner', tournamentId + '_' + winnerInfo.winner);
                }, 500);
            }
        }
    }
    
    // Create tournament table HTML
    function createTournamentTable(tournamentData, title, isAdminPanel = false) {
        const tableWrapper = document.createElement('div');
        tableWrapper.className = isAdminPanel ? 'table-wrapper table-wrapper-admin' : 'table-wrapper';
        
        const tableTitle = document.createElement('div');
        tableTitle.className = 'table-title';
        tableTitle.textContent = title;
        tableWrapper.appendChild(tableTitle);
        
        // Add delete button for admin panel
        if (isAdminPanel && title === 'Hauptturnier') {
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-table-btn';
            deleteBtn.textContent = 'üóëÔ∏è In Archiv verschieben';
            deleteBtn.onclick = function() {
                if (confirm('M√∂chten Sie dieses Turnier wirklich in das Archiv verschieben?')) {
                    archiveTournament(tournamentData);
                }
            };
            tableWrapper.appendChild(deleteBtn);
        }
        
        const table = document.createElement('table');
        table.className = 'tabela-table';
        
        // Table header
        const thead = document.createElement('thead');
        thead.innerHTML = `
            <tr>
                <th>Runde</th>
                <th>Spieler 1</th>
                <th>Ergebnis</th>
                <th>Spieler 2</th>
                <th>Status</th>
            </tr>
        `;
        table.appendChild(thead);
        
        // Table body
        const tbody = document.createElement('tbody');
        
        tournamentData.rounds.forEach((round, roundIndex) => {
            round.matches.forEach((match, matchIndex) => {
                const tr = document.createElement('tr');
                
                // Round cell (only for first match in round)
                if (matchIndex === 0) {
                    const roundCell = document.createElement('td');
                    roundCell.className = 'round-cell';
                    roundCell.textContent = round.name;
                    if (round.name === 'FINALE') {
                        tr.classList.add('final');
                    }
                    if (round.matches.length > 1) {
                        roundCell.setAttribute('rowspan', round.matches.length);
                    }
                    tr.appendChild(roundCell);
                }
                
                // Check if match is clickable in admin panel (has at least one player, or is final with both players)
                const isFinalMatch = round.name === 'FINALE';
                const isClickable = isAdminPanel && ((match.player1 || match.player2) || (isFinalMatch && match.player1 && match.player2));
                
                // Player 1
                const player1Cell = document.createElement('td');
                player1Cell.className = isClickable && match.player1 ? 'player-name player-name-clickable' : 'player-name';
                player1Cell.textContent = match.player1 || '-';
                if (isClickable && match.player1) {
                    // Use addEventListener for better mobile support
                    let touchHandled = false;
                    player1Cell.addEventListener('touchstart', function() {
                        touchHandled = false;
                    }, { passive: true });
                    player1Cell.addEventListener('touchend', function(e) {
                        if (!touchHandled) {
                            touchHandled = true;
                            e.preventDefault();
                            e.stopPropagation();
                        openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                    }, { passive: false });
                    player1Cell.addEventListener('click', function(e) {
                        if (!touchHandled) {
                            e.preventDefault();
                            e.stopPropagation();
                            openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                        touchHandled = false;
                    }, { passive: false });
                }
                tr.appendChild(player1Cell);
                
                // Score
                const scoreCell = document.createElement('td');
                scoreCell.className = 'score-cell';
                const score1 = match.score1;
                const score2 = match.score2;
                if (typeof score1 === 'number' && typeof score2 === 'number' && !isNaN(score1) && !isNaN(score2)) {
                    const score1Span = document.createElement('span');
                    score1Span.className = score1 > score2 ? 'score-win' : 'score-lose';
                    score1Span.textContent = score1;
                    const score2Span = document.createElement('span');
                    score2Span.className = score2 > score1 ? 'score-win' : 'score-lose';
                    score2Span.textContent = score2;
                    scoreCell.appendChild(score1Span);
                    scoreCell.appendChild(document.createTextNode(' : '));
                    scoreCell.appendChild(score2Span);
                } else {
                    scoreCell.textContent = '-';
                }
                // Also make score cell clickable in admin panel
                if (isClickable) {
                    scoreCell.classList.add('score-cell-clickable');
                    // Use addEventListener for better mobile support
                    let touchHandled = false;
                    scoreCell.addEventListener('touchstart', function() {
                        touchHandled = false;
                    }, { passive: true });
                    scoreCell.addEventListener('touchend', function(e) {
                        if (!touchHandled) {
                            touchHandled = true;
                            e.preventDefault();
                            e.stopPropagation();
                        openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                    }, { passive: false });
                    scoreCell.addEventListener('click', function(e) {
                        if (!touchHandled) {
                            e.preventDefault();
                            e.stopPropagation();
                            openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                        touchHandled = false;
                    }, { passive: false });
                }
                tr.appendChild(scoreCell);
                
                // Player 2
                const player2Cell = document.createElement('td');
                player2Cell.className = isClickable && match.player2 ? 'player-name player-name-clickable' : 'player-name';
                player2Cell.textContent = match.player2 || '-';
                if (isClickable && match.player2) {
                    // Use addEventListener for better mobile support
                    let touchHandled = false;
                    player2Cell.addEventListener('touchstart', function() {
                        touchHandled = false;
                    }, { passive: true });
                    player2Cell.addEventListener('touchend', function(e) {
                        if (!touchHandled) {
                            touchHandled = true;
                            e.preventDefault();
                            e.stopPropagation();
                        openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                    }, { passive: false });
                    player2Cell.addEventListener('click', function(e) {
                        if (!touchHandled) {
                            e.preventDefault();
                            e.stopPropagation();
                            openMatchEditModal(tournamentData, roundIndex, matchIndex, match);
                        }
                        touchHandled = false;
                    }, { passive: false });
                }
                tr.appendChild(player2Cell);
                
                // Status
                const statusCell = document.createElement('td');
                statusCell.className = match.status === 'complete' ? 'status-complete' : 'status-pending';
                statusCell.textContent = match.status === 'complete' ? 'Abgeschlossen' : 'Ausstehend';
                tr.appendChild(statusCell);
                
                tbody.appendChild(tr);
            });
        });
        
        table.appendChild(tbody);
        tableWrapper.appendChild(table);
        
        // Add winner info section if tournament is complete
        const winnerInfo = getTournamentWinner(tournamentData);
        if (winnerInfo) {
            const winnerSection = document.createElement('div');
            winnerSection.className = 'winner-info-section';
            
            const winnerTitle = document.createElement('div');
            winnerTitle.className = 'winner-info-title';
            winnerTitle.textContent = 'üèÜ GEWINNER üèÜ';
            winnerSection.appendChild(winnerTitle);
            
            const winnerName = document.createElement('div');
            winnerName.className = 'winner-info-name';
            winnerName.textContent = winnerInfo.winner;
            winnerSection.appendChild(winnerName);
            
            tableWrapper.appendChild(winnerSection);
        }
        
        return tableWrapper;
    }
    
    // Get eliminated players (losers from first round)
    function getEliminatedPlayers(tournamentData) {
        const eliminated = [];
        if (tournamentData.rounds.length > 0) {
            const firstRound = tournamentData.rounds[0];
            firstRound.matches.forEach(match => {
                // Only add eliminated players if match has a winner
                if (match.winner && match.player1 && match.player2) {
                    const loser = match.winner === match.player1 ? match.player2 : match.player1;
                    if (loser && !eliminated.includes(loser)) {
                        eliminated.push(loser);
                    }
                }
            });
        }
        // For new tournaments, we'll show eliminated tournament only after results are entered
        // For now, return empty array - will be populated when results are added
        return eliminated;
    }
    
    // Show/hide no tables message
    function showNoTablesMessage() {
        noTablesMessage.style.display = 'block';
        tablesContainer.style.display = 'none';
    }
    
    function hideNoTablesMessage() {
        noTablesMessage.style.display = 'none';
        tablesContainer.style.display = 'flex';
    }
    
    // Show/hide admin panel no tables message
    function showAdminNoTablesMessage() {
        const adminNoTablesMsg = document.getElementById('adminNoTablesMessage');
        const adminTablesCont = document.getElementById('adminTablesContainer');
        if (adminNoTablesMsg) adminNoTablesMsg.style.display = 'block';
        if (adminTablesCont) adminTablesCont.style.display = 'none';
    }
    
    function hideAdminNoTablesMessage() {
        const adminNoTablesMsg = document.getElementById('adminNoTablesMessage');
        const adminTablesCont = document.getElementById('adminTablesContainer');
        if (adminNoTablesMsg) adminNoTablesMsg.style.display = 'none';
        if (adminTablesCont) adminTablesCont.style.display = 'flex';
    }
    
    // Fixed participants list
    const FIXED_PARTICIPANTS = [
        'Dima',
        'Svenja',
        'Erion',
        'Moritz',
        'Madalina',
        'Noah',
        'Igor',
        'Justin',
        'Rafail',
        'Finn',
        'Malte',
        'Yehor',
        'Robert',
        'Jacob',
        'Yilka',
        'Paul',
        'Abdulrahman',
        'Yousef',
        'Gustas',
        'Dimitrios',
        'Rafail',
        'Beyca',
        'Andreea'
    ];
    
    // Admin list
    const ADMIN_PARTICIPANTS = ['Robert', 'Malte', 'Yehor', 'Moritz'];
    
    // Create particle effects for admin names
    function createAdminParticles(adminElement, index) {
        const particleCount = 6;
        const particleContainer = document.createElement('div');
        particleContainer.style.position = 'absolute';
        particleContainer.style.top = '50%';
        particleContainer.style.left = '50%';
        particleContainer.style.transform = 'translate(-50%, -50%)';
        particleContainer.style.width = '100%';
        particleContainer.style.height = '100%';
        particleContainer.style.pointerEvents = 'none';
        particleContainer.style.zIndex = '1';
        particleContainer.style.overflow = 'visible';
        
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'admin-particle';
            
            // Random positions around the name
            const angle = (i / particleCount) * Math.PI * 2;
            const distance = 25 + Math.random() * 15;
            const tx1 = Math.cos(angle) * (distance * 0.3);
            const ty1 = Math.sin(angle) * (distance * 0.3);
            const tx2 = Math.cos(angle) * (distance * 0.6);
            const ty2 = Math.sin(angle) * (distance * 0.6);
            const tx3 = Math.cos(angle) * distance;
            const ty3 = Math.sin(angle) * distance;
            
            particle.style.setProperty('--tx1', tx1 + 'px');
            particle.style.setProperty('--ty1', ty1 + 'px');
            particle.style.setProperty('--tx2', tx2 + 'px');
            particle.style.setProperty('--ty2', ty2 + 'px');
            particle.style.setProperty('--tx3', tx3 + 'px');
            particle.style.setProperty('--ty3', ty3 + 'px');
            
            // Random delay for each particle
            particle.style.animationDelay = (i * 0.5) + 's';
            
            particleContainer.appendChild(particle);
        }
        
        adminElement.appendChild(particleContainer);
    }
    
    // Check if player has matches in tournament data
    function playerHasMatches(playerName, tournamentData) {
        if (!tournamentData || !tournamentData.rounds || !playerName) {
            return false;
        }
        
        // Normalize player name (trim and lowercase for comparison)
        const normalizedPlayerName = playerName.trim().toLowerCase();
        
        for (let round of tournamentData.rounds) {
            if (!round.matches) continue;
            for (let match of round.matches) {
                // Normalize match player names for comparison
                const matchPlayer1 = match.player1 ? match.player1.trim().toLowerCase() : '';
                const matchPlayer2 = match.player2 ? match.player2.trim().toLowerCase() : '';
                
                if (matchPlayer1 === normalizedPlayerName || matchPlayer2 === normalizedPlayerName) {
                    return true;
                }
            }
        }
        return false;
    }
    
    // Update participants sidebar
    function updateParticipantsList(tournamentData) {
        const participantsList = document.getElementById('participantsList');
        const participantsCount = document.getElementById('participantsCount');
        
        if (!participantsList || !participantsCount) return;
        
        // Get all participants and remove duplicates
        const allParticipants = [...new Set(FIXED_PARTICIPANTS)];
        
        // Separate admins and regular participants
        const admins = allParticipants.filter(p => ADMIN_PARTICIPANTS.includes(p)).sort();
        const regularParticipants = allParticipants.filter(p => !ADMIN_PARTICIPANTS.includes(p)).sort();
        
        // Update count
        participantsCount.textContent = `${allParticipants.length} Teilnehmer`;
        
        // Clear list
        participantsList.innerHTML = '';
        
        // Add admins first with special styling
        if (admins.length > 0) {
            admins.forEach((admin, adminIndex) => {
                const li = document.createElement('li');
                li.className = 'participant-item participant-admin';
                li.setAttribute('data-participant-name', admin);
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'participant-name';
                nameSpan.textContent = admin;
                
                // Check if admin has matches
                const hasMatches = tournamentData ? playerHasMatches(admin, tournamentData) : false;
                const statusDot = document.createElement('span');
                statusDot.className = `participant-status-dot ${hasMatches ? 'active' : 'inactive'}`;
                statusDot.setAttribute('title', hasMatches ? 'Hat Spiele in der Tabelle' : 'Keine Spiele in der Tabelle');
                
                const adminBadge = document.createElement('span');
                adminBadge.className = 'admin-badge';
                adminBadge.textContent = 'üëë Admin';
                
                li.appendChild(nameSpan);
                li.appendChild(statusDot);
                li.appendChild(adminBadge);
                
                // Create particle effects for admin
                createAdminParticles(li, adminIndex);
                
                // Add click event - always allow, but stats won't be saved if no matches
                li.addEventListener('click', function() {
                    // Load fresh data from localStorage
                    const savedData = localStorage.getItem('tournamentData');
                    const freshData = savedData ? JSON.parse(savedData) : tournamentData;
                    openPlayerStatsModal(admin, freshData || tournamentData);
                });
                
                participantsList.appendChild(li);
            });
            
            // Add separator
            const separator = document.createElement('li');
            separator.className = 'participants-separator';
            participantsList.appendChild(separator);
        }
        
        // Add regular participants
        if (regularParticipants.length > 0) {
            regularParticipants.forEach(player => {
                const li = document.createElement('li');
                li.className = 'participant-item';
                li.setAttribute('data-participant-name', player);
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'participant-name';
                nameSpan.textContent = player;
                
                // Check if player has matches
                const hasMatches = tournamentData ? playerHasMatches(player, tournamentData) : false;
                const statusDot = document.createElement('span');
                statusDot.className = `participant-status-dot ${hasMatches ? 'active' : 'inactive'}`;
                statusDot.setAttribute('title', hasMatches ? 'Hat Spiele in der Tabelle' : 'Keine Spiele in der Tabelle');
                
                const playerBadge = document.createElement('span');
                playerBadge.className = 'player-badge';
                playerBadge.textContent = 'üèì Spieler';
                
                li.appendChild(nameSpan);
                li.appendChild(statusDot);
                li.appendChild(playerBadge);
                
                // Add click event - always allow, but stats won't be saved if no matches
                li.addEventListener('click', function() {
                    // Load fresh data from localStorage
                    const savedData = localStorage.getItem('tournamentData');
                    const freshData = savedData ? JSON.parse(savedData) : tournamentData;
                    openPlayerStatsModal(player, freshData || tournamentData);
                });
                
                participantsList.appendChild(li);
            });
        }
        
        // Show message if no participants
        if (admins.length === 0 && regularParticipants.length === 0) {
            const li = document.createElement('li');
            li.className = 'no-participants-message';
            li.textContent = 'Keine Teilnehmer vorhanden';
            participantsList.appendChild(li);
        }
    }
    
    // Load tables on page load
    function loadTables() {
        const savedData = localStorage.getItem('tournamentData');
        if (savedData) {
            try {
                const tournamentData = JSON.parse(savedData);
                renderTables(tournamentData);
            } catch (e) {
                console.error('Error loading tournament data:', e);
                showNoTablesMessage();
                showAdminNoTablesMessage();
            }
        } else {
            showNoTablesMessage();
            showAdminNoTablesMessage();
        }
        // Always update participants list (load from localStorage if available)
        const savedDataForList = localStorage.getItem('tournamentData');
        const tournamentDataForList = savedDataForList ? JSON.parse(savedDataForList) : null;
        updateParticipantsList(tournamentDataForList);
        
        // Update statistics section
        updateStatisticsSection(tournamentDataForList);
    }
    
    // Refresh admin panel tables when panel is opened
    function refreshAdminTables() {
        const savedData = localStorage.getItem('tournamentData');
        if (savedData) {
            try {
                let tournamentData = JSON.parse(savedData);
                
                // Calculate progress
                tournamentData = calculateTournamentProgress(tournamentData);
                
                // Save updated data
                localStorage.setItem('tournamentData', JSON.stringify(tournamentData));
                
                // Only update admin panel, not main section
                const adminTablesContainer = document.getElementById('adminTablesContainer');
                const adminNoTablesMessage = document.getElementById('adminNoTablesMessage');
                
                if (adminTablesContainer && tournamentData && tournamentData.rounds && tournamentData.rounds.length > 0) {
                    adminNoTablesMessage.style.display = 'none';
                    adminTablesContainer.style.display = 'flex';
                    adminTablesContainer.innerHTML = '';
                    
                    const adminMainTable = createTournamentTable(tournamentData, 'Hauptturnier', true);
                    adminTablesContainer.appendChild(adminMainTable);
                } else {
                    showAdminNoTablesMessage();
                }
                
                // Update participants list with fresh data
                updateParticipantsList(tournamentData);
            } catch (e) {
                console.error('Error refreshing admin tables:', e);
                showAdminNoTablesMessage();
            }
        } else {
            showAdminNoTablesMessage();
        }
        
        // Always update participants list (even if no tournament data)
        const savedDataForList = localStorage.getItem('tournamentData');
        const tournamentDataForList = savedDataForList ? JSON.parse(savedDataForList) : null;
        updateParticipantsList(tournamentDataForList);
        
        // Update statistics section
        updateStatisticsSection(tournamentDataForList);
    }
    
    // Archive tournament function
    function archiveTournament(tournamentData) {
        // Get existing archive
        let archive = [];
        const archiveData = localStorage.getItem('tournamentArchive');
        if (archiveData) {
            try {
                archive = JSON.parse(archiveData);
            } catch (e) {
                console.error('Error loading archive:', e);
                archive = [];
            }
        }
        
        // Add archived date to tournament data
        tournamentData.archivedAt = new Date().toISOString();
        tournamentData.archiveId = Date.now().toString();
        
        // Add to archive
        archive.push(tournamentData);
        
        // Save archive
        localStorage.setItem('tournamentArchive', JSON.stringify(archive));
        
        // Remove from active tournament
        localStorage.removeItem('tournamentData');
        
        // Refresh both sections
        showNoTablesMessage();
        showAdminNoTablesMessage();
        
        // Refresh admin tables
        refreshAdminTables();
        
        alert('Turnier wurde erfolgreich ins Archiv verschoben.');
    }
    
    // Reset all statistics
    function resetAllStatistics() {
        if (!confirm('M√∂chten Sie wirklich alle Statistiken zur√ºcksetzen? Dies l√∂scht alle Spielzeiten (Stoppuhr-Daten) aus allen Spielen. Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.')) {
            return;
        }
        
        const savedData = localStorage.getItem('tournamentData');
        if (!savedData) {
            alert('Keine Turnierdaten gefunden.');
            return;
        }
        
        try {
            let tournamentData = JSON.parse(savedData);
            
            // Remove durationSeconds from all matches
            if (tournamentData.rounds) {
                tournamentData.rounds.forEach(round => {
                    if (round.matches) {
                        round.matches.forEach(match => {
                            delete match.durationSeconds;
                        });
                    }
                });
            }
            
            // Save updated data
            localStorage.setItem('tournamentData', JSON.stringify(tournamentData));
            
            // Refresh tables
            renderTables(tournamentData);
            
            // Refresh admin tables
            if (typeof refreshAdminTables === 'function') {
                refreshAdminTables();
            }
            
            // Update participants list
            updateParticipantsList(tournamentData);
            
            alert('Alle Statistiken wurden erfolgreich zur√ºckgesetzt.');
        } catch (e) {
            console.error('Error resetting statistics:', e);
            alert('Fehler beim Zur√ºcksetzen der Statistiken.');
        }
    }
    
    // Initialize reset statistics button
    const resetStatsBtn = document.getElementById('resetStatsBtn');
    if (resetStatsBtn) {
        resetStatsBtn.addEventListener('click', resetAllStatistics);
    }
    
    // Open archive page
    const openArchiveBtn = document.getElementById('openArchiveBtn');
    if (openArchiveBtn) {
        openArchiveBtn.addEventListener('click', function() {
            window.open('archive.html', '_blank');
        });
    }
    
    // Match Edit Functions
    // Variables for match edit modal
    let currentEditingTournamentData = null;
    let currentEditingRoundIndex = null;
    let currentEditingMatchIndex = null;
    
    // Open match edit modal (inline, works on mobile)
    function openMatchEditModal(tournamentData, roundIndex, matchIndex, match) {
        // Store current editing context
        currentEditingTournamentData = tournamentData;
        currentEditingRoundIndex = roundIndex;
        currentEditingMatchIndex = matchIndex;
        
        // Get modal elements
        const modal = document.getElementById('matchEditModal');
        const player1Name = document.getElementById('matchEditPlayer1Name');
        const player2Name = document.getElementById('matchEditPlayer2Name');
        const player1Score = document.getElementById('matchEditPlayer1Score');
        const player2Score = document.getElementById('matchEditPlayer2Score');
        const matchStatus = document.getElementById('matchEditStatus');
        const matchRound = document.getElementById('matchEditModalRound');
        
        // Populate modal with match data
        player1Name.textContent = match.player1 || 'Spieler 1';
        player2Name.textContent = match.player2 || 'Spieler 2';
        player1Score.value = (match.score1 !== null && match.score1 !== undefined) ? match.score1 : 0;
        player2Score.value = (match.score2 !== null && match.score2 !== undefined) ? match.score2 : 0;
        matchStatus.value = match.status || 'pending';
        
        // Get round name
        const round = tournamentData.rounds[roundIndex];
        matchRound.textContent = round ? round.name || 'Runde' : 'Runde';
        
        // Restore or reset stopwatch when opening modal
        const stopwatchDisplayEl = document.getElementById('matchEditStopwatchDisplay');
        const stopwatchStartEl = document.getElementById('matchEditStopwatchStart');
        const stopwatchStopEl = document.getElementById('matchEditStopwatchStop');
        
        // Get saved time from match or default to 0
        const savedTime = match.durationSeconds || 0;
        const hours = Math.floor(savedTime / 3600);
        const minutes = Math.floor((savedTime % 3600) / 60);
        const secs = savedTime % 60;
        const timeString = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        
        if (stopwatchDisplayEl) {
            stopwatchDisplayEl.textContent = timeString;
        }
        
        // Store saved time for use in initializeMatchEditModal
        window.currentMatchStopwatchInitialTime = savedTime;
        
        if (stopwatchStartEl) {
            stopwatchStartEl.disabled = false;
        }
        if (stopwatchStopEl) {
            stopwatchStopEl.disabled = true;
        }
        
        // Show modal
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    // Initialize match edit modal handlers (only once)
    let matchEditModalInitialized = false;
    function initializeMatchEditModal() {
        if (matchEditModalInitialized) return;
        matchEditModalInitialized = true;
        
        const modal = document.getElementById('matchEditModal');
        const closeBtn = document.getElementById('matchEditModalClose');
        const player1Score = document.getElementById('matchEditPlayer1Score');
        const player2Score = document.getElementById('matchEditPlayer2Score');
        const player1Plus = document.getElementById('matchEditPlayer1Plus');
        const player1Minus = document.getElementById('matchEditPlayer1Minus');
        const player2Plus = document.getElementById('matchEditPlayer2Plus');
        const player2Minus = document.getElementById('matchEditPlayer2Minus');
        const saveBtn = document.getElementById('matchEditSaveBtn');
        
        // Stopwatch elements
        const stopwatchDisplay = document.getElementById('matchEditStopwatchDisplay');
        const stopwatchStart = document.getElementById('matchEditStopwatchStart');
        const stopwatchStop = document.getElementById('matchEditStopwatchStop');
        const stopwatchReset = document.getElementById('matchEditStopwatchReset');
        
        // Stopwatch variables (accessible globally in this function scope)
        let stopwatchInterval = null;
        let stopwatchSeconds = 0;
        let stopwatchRunning = false;
        
        // Initialize stopwatch from saved match time or 0
        // Use the time set when modal was opened (from openMatchEditModal)
        if (typeof window.currentMatchStopwatchInitialTime !== 'undefined') {
            stopwatchSeconds = window.currentMatchStopwatchInitialTime;
            window.currentMatchStopwatchInitialTime = 0; // Reset after use
        } else {
            const savedMatch = currentEditingTournamentData?.rounds?.[currentEditingRoundIndex]?.matches?.[currentEditingMatchIndex];
            if (savedMatch && savedMatch.durationSeconds !== undefined && savedMatch.durationSeconds !== null) {
                stopwatchSeconds = savedMatch.durationSeconds;
            }
        }
        
        // Format time for stopwatch
        function formatStopwatchTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }
        
        // Update stopwatch display
        function updateStopwatchDisplay() {
            if (stopwatchDisplay) {
                stopwatchDisplay.textContent = formatStopwatchTime(stopwatchSeconds);
            }
        }
        
        // Initialize stopwatch display
        updateStopwatchDisplay();
        
        // Stopwatch controls
        if (stopwatchStart) {
            stopwatchStart.addEventListener('click', function() {
                if (!stopwatchRunning) {
                    stopwatchRunning = true;
                    stopwatchStart.disabled = true;
                    if (stopwatchStop) stopwatchStop.disabled = false;
                    
                    stopwatchInterval = setInterval(function() {
                        stopwatchSeconds++;
                        updateStopwatchDisplay();
                    }, 1000);
                }
            });
        }
        
        if (stopwatchStop) {
            stopwatchStop.addEventListener('click', function() {
                if (stopwatchRunning) {
                    stopwatchRunning = false;
                    if (stopwatchStart) stopwatchStart.disabled = false;
                    stopwatchStop.disabled = true;
                    
                    if (stopwatchInterval) {
                        clearInterval(stopwatchInterval);
                        stopwatchInterval = null;
                    }
                }
            });
        }
        
        if (stopwatchReset) {
            stopwatchReset.addEventListener('click', function() {
                stopwatchRunning = false;
                stopwatchSeconds = 0;
                if (stopwatchStart) stopwatchStart.disabled = false;
                if (stopwatchStop) stopwatchStop.disabled = true;
                
                if (stopwatchInterval) {
                    clearInterval(stopwatchInterval);
                    stopwatchInterval = null;
                }
                
                updateStopwatchDisplay();
            });
        }
        
        // Close modal
        function closeMatchEditModal() {
            // Stop stopwatch when closing
            if (stopwatchRunning) {
                stopwatchRunning = false;
                if (stopwatchInterval) {
                    clearInterval(stopwatchInterval);
                    stopwatchInterval = null;
                }
            }
            // Reset stopwatch
            stopwatchSeconds = 0;
            updateStopwatchDisplay();
            if (stopwatchStart) stopwatchStart.disabled = false;
            if (stopwatchStop) stopwatchStop.disabled = true;
            
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        closeBtn.addEventListener('click', closeMatchEditModal);
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeMatchEditModal();
            }
        });
        
        // Player 1 score buttons
        player1Plus.addEventListener('click', function() {
            const current = parseInt(player1Score.value) || 0;
            if (current < 50) {
                player1Score.value = current + 1;
            }
        });
        
        player1Minus.addEventListener('click', function() {
            const current = parseInt(player1Score.value) || 0;
            if (current > 0) {
                player1Score.value = current - 1;
            }
        });
        
        // Player 2 score buttons
        player2Plus.addEventListener('click', function() {
            const current = parseInt(player2Score.value) || 0;
            if (current < 50) {
                player2Score.value = current + 1;
            }
        });
        
        player2Minus.addEventListener('click', function() {
            const current = parseInt(player2Score.value) || 0;
            if (current > 0) {
                player2Score.value = current - 1;
            }
        });
        
        // Allow direct input
        player1Score.addEventListener('input', function() {
            let value = parseInt(this.value);
            if (isNaN(value) || value < 0) value = 0;
            if (value > 50) value = 50;
            this.value = value;
        });
        
        player2Score.addEventListener('input', function() {
            let value = parseInt(this.value);
            if (isNaN(value) || value < 0) value = 0;
            if (value > 50) value = 50;
            this.value = value;
        });
        
        // Save match
        saveBtn.addEventListener('click', function() {
            if (!currentEditingTournamentData || 
                !currentEditingTournamentData.rounds || 
                !currentEditingTournamentData.rounds[currentEditingRoundIndex]) {
                alert('Fehler: Keine Turnierdaten gefunden.');
                return;
            }
            
            const round = currentEditingTournamentData.rounds[currentEditingRoundIndex];
            if (!round.matches || !round.matches[currentEditingMatchIndex]) {
                alert('Fehler: Mecz nicht gefunden.');
                return;
            }
            
            const match = round.matches[currentEditingMatchIndex];
            const matchStatus = document.getElementById('matchEditStatus');
            
            let score1 = parseInt(player1Score.value) || 0;
            let score2 = parseInt(player2Score.value) || 0;
            
            // Validate scores
            if (isNaN(score1)) score1 = 0;
            if (isNaN(score2)) score2 = 0;
            if (score1 < 0) score1 = 0;
            if (score2 < 0) score2 = 0;
            if (score1 > 50) score1 = 50;
            if (score2 > 50) score2 = 50;
            
            const status = matchStatus.value;
            
            // Update match data
            match.score1 = score1;
            match.score2 = score2;
            match.status = status;
            
            // Save stopwatch time to match
            match.durationSeconds = stopwatchSeconds;
            
            // Determine winner
            if (status === 'complete' && score1 !== score2 && match.player1 && match.player2) {
                match.winner = score1 > score2 ? match.player1 : match.player2;
            } else {
                match.winner = null;
            }
            
            // Save to localStorage
            const dataToSave = JSON.stringify(currentEditingTournamentData);
            localStorage.setItem('tournamentData', dataToSave);
            
            // Refresh tables
            const savedData = localStorage.getItem('tournamentData');
            if (savedData) {
                try {
                    const tournamentData = JSON.parse(savedData);
                    renderTables(tournamentData);
                } catch (e) {
                    console.error('Error parsing data:', e);
                    loadTables();
                }
            } else {
                loadTables();
            }
            
            // Refresh admin tables if panel is open
            if (typeof refreshAdminTables === 'function') {
                refreshAdminTables();
            }
            
            // Update statistics section
            updateStatisticsSection(currentEditingTournamentData);
            
            alert('Mecz wurde erfolgreich aktualisiert.');
            closeMatchEditModal();
        });
        
        // Close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeMatchEditModal();
            }
        });
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeMatchEditModal);
    } else {
        initializeMatchEditModal();
    }
    
    // Listen for refresh message from match edit page
    window.addEventListener('message', function(event) {
        console.log('Message received:', event.data);
        if (event.data === 'refreshTables') {
            console.log('Refreshing tables...');
            // Force reload from localStorage
            setTimeout(function() {
                const savedData = localStorage.getItem('tournamentData');
                console.log('Data from localStorage:', savedData ? 'Data exists' : 'No data');
                if (savedData) {
                    try {
                        const tournamentData = JSON.parse(savedData);
                        console.log('Parsed tournament data:', tournamentData);
                        renderTables(tournamentData);
                    } catch (e) {
                        console.error('Error parsing data:', e);
                        loadTables();
                    }
                } else {
                    loadTables();
                }
                
                // Refresh admin tables if panel is open
                if (typeof refreshAdminTables === 'function') {
                    refreshAdminTables();
                }
            }, 50);
        }
    });
    
    // Also listen for storage events (in case postMessage doesn't work)
    window.addEventListener('storage', function(e) {
        if (e.key === 'tournamentData') {
            console.log('Storage event detected, refreshing tables...');
            loadTables();
            if (typeof refreshAdminTables === 'function') {
                refreshAdminTables();
            }
        }
    });
    
    // Refresh tables when window gains focus (in case match-edit page was closed)
    window.addEventListener('focus', function() {
        console.log('Window focused, checking for updates...');
        const savedData = localStorage.getItem('tournamentData');
        if (savedData) {
            try {
                const tournamentData = JSON.parse(savedData);
                renderTables(tournamentData);
                if (typeof refreshAdminTables === 'function') {
                    refreshAdminTables();
                }
            } catch (e) {
                console.error('Error refreshing on focus:', e);
            }
        }
    });
    
    // Toggle participants sidebar
    function initializeParticipantsSidebarToggle() {
        const sidebar = document.getElementById('participantsSidebar');
        const toggleBtn = document.getElementById('participantsSidebarToggle');
        const expandBtn = document.getElementById('participantsSidebarExpandBtn');
        
        if (!sidebar) return;
        
        function updateSidebarState(isCollapsed) {
            const toggleIcon = toggleBtn ? toggleBtn.querySelector('.toggle-icon') : null;
            const toggleText = toggleBtn ? toggleBtn.querySelector('.toggle-text') : null;
            const isMobile = window.innerWidth <= 1200;
            
            if (isCollapsed) {
                sidebar.classList.add('collapsed');
                if (toggleIcon) toggleIcon.textContent = '‚ñ∂';
                if (toggleText) toggleText.textContent = 'Einblenden';
                document.body.style.paddingRight = '0';
                const stickyNav = document.getElementById('stickyNav');
                if (stickyNav) stickyNav.classList.add('sidebar-collapsed');
                // Show expand button when sidebar is collapsed
                if (expandBtn) {
                    expandBtn.classList.remove('hidden');
                }
            } else {
                sidebar.classList.remove('collapsed');
                if (toggleIcon) toggleIcon.textContent = '‚óÄ';
                if (toggleText) toggleText.textContent = 'Ausblenden';
                if (!isMobile) {
                    document.body.style.paddingRight = '250px';
                } else {
                    document.body.style.paddingRight = '0';
                }
                const stickyNav = document.getElementById('stickyNav');
                if (stickyNav) stickyNav.classList.remove('sidebar-collapsed');
                // Hide expand button when sidebar is open
                if (expandBtn) {
                    expandBtn.classList.add('hidden');
                }
            }
        }
        
        // Load state from localStorage, but default to open on mobile
        const isMobile = window.innerWidth <= 1200;
        let isCollapsed = localStorage.getItem('participantsSidebarCollapsed') === 'true';
        if (isMobile && localStorage.getItem('participantsSidebarCollapsed') === null) {
            // First visit on mobile - show sidebar by default
            isCollapsed = false;
        }
        updateSidebarState(isCollapsed);
        
        // Update on window resize
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                const currentlyCollapsed = sidebar.classList.contains('collapsed');
                updateSidebarState(currentlyCollapsed);
            }, 100);
        });
        
        // Toggle button inside sidebar
        if (toggleBtn) {
            toggleBtn.addEventListener('click', function() {
                const isCurrentlyCollapsed = sidebar.classList.contains('collapsed');
                updateSidebarState(!isCurrentlyCollapsed);
                localStorage.setItem('participantsSidebarCollapsed', (!isCurrentlyCollapsed).toString());
            });
        }
        
        // Expand button (when sidebar is collapsed)
        if (expandBtn) {
            expandBtn.addEventListener('click', function() {
                updateSidebarState(false);
                localStorage.setItem('participantsSidebarCollapsed', 'false');
            });
        }
    }
    
    // Calculate player statistics
    function calculatePlayerStats(playerName, tournamentData) {
        if (!tournamentData || !tournamentData.rounds) {
            return null;
        }
        
        const stats = {
            totalGames: 0,
            roundsPlayed: new Set(),
            totalTime: 0,
            wins: 0,
            losses: 0,
            totalPointsScored: 0,
            totalPointsReceived: 0,
            opponentsWon: [],
            opponentsLost: [],
            matches: []
        };
        
        tournamentData.rounds.forEach((round, roundIndex) => {
            if (!round.matches) return;
            
            round.matches.forEach((match, matchIndex) => {
                // Check if player participated in this match
                const isPlayer1 = match.player1 === playerName;
                const isPlayer2 = match.player2 === playerName;
                
                if (!isPlayer1 && !isPlayer2) return;
                
                // Only count completed matches
                if (match.status !== 'complete') return;
                
                // Check if match has scores
                if (match.score1 === null || match.score2 === null || 
                    match.score1 === undefined || match.score2 === undefined) return;
                
                const playerScore = isPlayer1 ? match.score1 : match.score2;
                const opponentScore = isPlayer1 ? match.score2 : match.score1;
                const opponent = isPlayer1 ? match.player2 : match.player1;
                
                // Count round
                stats.roundsPlayed.add(round.name || `Runde ${roundIndex + 1}`);
                
                // Count game
                stats.totalGames++;
                
                // Add time
                if (match.durationSeconds) {
                    stats.totalTime += match.durationSeconds;
                }
                
                // Count points
                stats.totalPointsScored += playerScore;
                stats.totalPointsReceived += opponentScore;
                
                // Determine win/loss
                const isWin = playerScore > opponentScore;
                if (isWin) {
                    stats.wins++;
                    if (opponent) {
                        stats.opponentsWon.push(opponent);
                    }
                } else {
                    stats.losses++;
                    if (opponent) {
                        stats.opponentsLost.push(opponent);
                    }
                }
                
                // Store match details
                stats.matches.push({
                    round: round.name || `Runde ${roundIndex + 1}`,
                    roundIndex: roundIndex,
                    matchIndex: matchIndex,
                    opponent: opponent,
                    playerScore: playerScore,
                    opponentScore: opponentScore,
                    result: isWin ? 'win' : 'loss',
                    durationSeconds: match.durationSeconds || 0,
                    match: match
                });
            });
        });
        
        // Convert Set to Array for roundsPlayed
        stats.roundsPlayed = Array.from(stats.roundsPlayed);
        
        return stats;
    }
    
    // Format time in seconds to HH:MM:SS
    function formatTime(seconds) {
        if (!seconds || seconds === 0) return '00:00:00';
        const hours = Math.floor(seconds / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = seconds % 60;
        return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }
    
    // Calculate aggregated statistics from all players
    function calculateAggregatedStats(tournamentData) {
        if (!tournamentData || !tournamentData.rounds) {
            return null;
        }
        
        const allPlayers = new Set();
        const allStats = {
            totalPlayers: 0,
            totalGames: 0,
            totalRounds: new Set(),
            totalTime: 0,
            totalWins: 0,
            totalLosses: 0,
            totalPoints: 0,
            matches: []
        };
        
        // Collect all unique players and their stats
        tournamentData.rounds.forEach((round, roundIndex) => {
            if (!round.matches) return;
            allStats.totalRounds.add(round.name || `Runde ${roundIndex + 1}`);
            
            round.matches.forEach((match, matchIndex) => {
                if (match.player1) allPlayers.add(match.player1);
                if (match.player2) allPlayers.add(match.player2);
                
                // Only count completed matches
                if (match.status !== 'complete') return;
                if (match.score1 === null || match.score2 === null || 
                    match.score1 === undefined || match.score2 === undefined) return;
                
                // Count as one game (not two - each match is one game)
                if (!allStats.matches.some(m => m.roundIndex === roundIndex && m.matchIndex === matchIndex)) {
                    allStats.totalGames++;
                    allStats.matches.push({
                        roundIndex: roundIndex,
                        matchIndex: matchIndex,
                        match: match
                    });
                }
                
                // Add points
                if (match.score1 !== null && match.score1 !== undefined) {
                    allStats.totalPoints += match.score1;
                }
                if (match.score2 !== null && match.score2 !== undefined) {
                    allStats.totalPoints += match.score2;
                }
                
                // Add time
                if (match.durationSeconds) {
                    allStats.totalTime += match.durationSeconds;
                }
                
                // Count wins/losses
                if (match.score1 > match.score2) {
                    allStats.totalWins++;
                } else if (match.score2 > match.score1) {
                    allStats.totalLosses++;
                }
            });
        });
        
        allStats.totalPlayers = allPlayers.size;
        allStats.totalRounds = Array.from(allStats.totalRounds);
        
        return allStats;
    }
    
    // Update statistics section with real data
    function updateStatisticsSection(tournamentData) {
        const statsGrid = document.getElementById('statsGrid');
        const statsRecordsList = document.getElementById('statsRecordsList');
        
        if (!statsGrid || !statsRecordsList) return;
        
        const aggregatedStats = calculateAggregatedStats(tournamentData);
        
        if (!aggregatedStats || aggregatedStats.totalGames === 0) {
            statsGrid.innerHTML = '<div style="text-align: center; color: #4a9d7a; padding: 20px; grid-column: 1 / -1;">Keine Statistikdaten verf√ºgbar</div>';
            statsRecordsList.innerHTML = '<li class="stats-item">Keine Rekorde verf√ºgbar</li>';
            return;
        }
        
        // Clear existing content
        statsGrid.innerHTML = '';
        statsRecordsList.innerHTML = '';
        
        // Create stats cards
        const statsCards = [
            { label: 'Spieler', value: aggregatedStats.totalPlayers },
            { label: 'Spiele', value: aggregatedStats.totalGames },
            { label: 'Runden', value: aggregatedStats.totalRounds.length }
        ];
        
        // Only add time if we have time data
        if (aggregatedStats.totalTime > 0) {
            statsCards.push({ 
                label: 'Gesamtspielzeit', 
                value: formatTime(aggregatedStats.totalTime) 
            });
        }
        
        // Only add wins/losses if we have completed games
        if (aggregatedStats.totalWins > 0 || aggregatedStats.totalLosses > 0) {
            statsCards.push({ label: 'Siege', value: aggregatedStats.totalWins });
            statsCards.push({ label: 'Niederlagen', value: aggregatedStats.totalLosses });
        }
        
        // Add total points if we have any
        if (aggregatedStats.totalPoints > 0) {
            statsCards.push({ label: 'Gesamtpunkte', value: aggregatedStats.totalPoints });
        }
        
        statsCards.forEach(stat => {
            const card = document.createElement('div');
            card.className = 'stats-card';
            const number = document.createElement('div');
            number.className = 'stats-number';
            number.textContent = stat.value;
            const label = document.createElement('div');
            label.className = 'stats-label';
            label.textContent = stat.label;
            card.appendChild(number);
            card.appendChild(label);
            statsGrid.appendChild(card);
        });
        
        // Calculate and display records
        const records = [];
        
        // Format time for display (minutes and seconds)
        function formatTimeForDisplay(seconds) {
            if (!seconds || seconds === 0) return '0 Sekunden';
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            if (minutes > 0 && secs > 0) {
                return `${minutes} ${minutes === 1 ? 'Minute' : 'Minuten'} ${secs} ${secs === 1 ? 'Sekunde' : 'Sekunden'}`;
            } else if (minutes > 0) {
                return `${minutes} ${minutes === 1 ? 'Minute' : 'Minuten'}`;
            } else {
                return `${secs} ${secs === 1 ? 'Sekunde' : 'Sekunden'}`;
            }
        }
        
        // Collect player statistics for records
        const playerStats = {};
        aggregatedStats.matches.forEach(matchData => {
            const match = matchData.match;
            
            // Initialize player stats if not exists
            if (match.player1 && !playerStats[match.player1]) {
                playerStats[match.player1] = {
                    totalPoints: 0,
                    wins: 0,
                    losses: 0,
                    fastestWin: null,
                    fastestWinTime: Infinity,
                    fastestLoss: null,
                    fastestLossTime: Infinity
                };
            }
            if (match.player2 && !playerStats[match.player2]) {
                playerStats[match.player2] = {
                    totalPoints: 0,
                    wins: 0,
                    losses: 0,
                    fastestWin: null,
                    fastestWinTime: Infinity,
                    fastestLoss: null,
                    fastestLossTime: Infinity
                };
            }
            
            if (match.player1 && playerStats[match.player1]) {
                playerStats[match.player1].totalPoints += (match.score1 || 0);
            }
            if (match.player2 && playerStats[match.player2]) {
                playerStats[match.player2].totalPoints += (match.score2 || 0);
            }
            
            // Check win/loss and fastest times
            if (match.score1 > match.score2) {
                if (match.player1 && playerStats[match.player1]) {
                    playerStats[match.player1].wins++;
                    if (match.durationSeconds && match.durationSeconds > 0 && 
                        match.durationSeconds < playerStats[match.player1].fastestWinTime) {
                        playerStats[match.player1].fastestWinTime = match.durationSeconds;
                        playerStats[match.player1].fastestWin = match;
                    }
                }
                if (match.player2 && playerStats[match.player2]) {
                    playerStats[match.player2].losses++;
                    if (match.durationSeconds && match.durationSeconds > 0 && 
                        match.durationSeconds < playerStats[match.player2].fastestLossTime) {
                        playerStats[match.player2].fastestLossTime = match.durationSeconds;
                        playerStats[match.player2].fastestLoss = match;
                    }
                }
            } else if (match.score2 > match.score1) {
                if (match.player2 && playerStats[match.player2]) {
                    playerStats[match.player2].wins++;
                    if (match.durationSeconds && match.durationSeconds > 0 && 
                        match.durationSeconds < playerStats[match.player2].fastestWinTime) {
                        playerStats[match.player2].fastestWinTime = match.durationSeconds;
                        playerStats[match.player2].fastestWin = match;
                    }
                }
                if (match.player1 && playerStats[match.player1]) {
                    playerStats[match.player1].losses++;
                    if (match.durationSeconds && match.durationSeconds > 0 && 
                        match.durationSeconds < playerStats[match.player1].fastestLossTime) {
                        playerStats[match.player1].fastestLossTime = match.durationSeconds;
                        playerStats[match.player1].fastestLoss = match;
                    }
                }
            }
        });
        
        // Find fastest and longest matches (by time)
        if (aggregatedStats.totalTime > 0) {
            let fastestMatch = null;
            let longestMatch = null;
            let fastestTime = Infinity;
            let longestTime = 0;
            
            aggregatedStats.matches.forEach(matchData => {
                const match = matchData.match;
                if (match.durationSeconds && match.durationSeconds > 0) {
                    if (match.durationSeconds < fastestTime) {
                        fastestTime = match.durationSeconds;
                        fastestMatch = match;
                    }
                    if (match.durationSeconds > longestTime) {
                        longestTime = match.durationSeconds;
                        longestMatch = match;
                    }
                }
            });
            
            if (fastestMatch) {
                records.push({
                    label: 'Schnellstes Spiel',
                    value: `${fastestMatch.player1 || '-'} vs ${fastestMatch.player2 || '-'} - ${formatTimeForDisplay(fastestTime)}`
                });
            }
            
            if (longestMatch) {
                records.push({
                    label: 'L√§ngstes Spiel',
                    value: `${longestMatch.player1 || '-'} vs ${longestMatch.player2 || '-'} - ${formatTimeForDisplay(longestTime)}`
                });
            }
        }
        
        // Find best player (most wins)
        let bestPlayer = null;
        let maxWins = 0;
        for (let player in playerStats) {
            if (playerStats[player].wins > maxWins) {
                maxWins = playerStats[player].wins;
                bestPlayer = player;
            }
        }
        
        if (bestPlayer && maxWins > 0) {
            records.push({
                label: 'Bester Spieler',
                value: `${bestPlayer} - ${maxWins} ${maxWins === 1 ? 'Sieg' : 'Siege'}`
            });
        }
        
        // Find player with most points
        let mostPointsPlayer = null;
        let maxPoints = 0;
        for (let player in playerStats) {
            if (playerStats[player].totalPoints > maxPoints) {
                maxPoints = playerStats[player].totalPoints;
                mostPointsPlayer = player;
            }
        }
        
        if (mostPointsPlayer && maxPoints > 0) {
            records.push({
                label: 'Meiste Punkte',
                value: `${mostPointsPlayer} - ${maxPoints} Punkte`
            });
        }
        
        // Find fastest win
        let fastestWinPlayer = null;
        let fastestWinTime = Infinity;
        let fastestWinMatch = null;
        for (let player in playerStats) {
            if (playerStats[player].fastestWin && 
                playerStats[player].fastestWinTime < fastestWinTime) {
                fastestWinTime = playerStats[player].fastestWinTime;
                fastestWinPlayer = player;
                fastestWinMatch = playerStats[player].fastestWin;
            }
        }
        
        if (fastestWinPlayer && fastestWinMatch) {
            const opponent = fastestWinMatch.player1 === fastestWinPlayer ? 
                fastestWinMatch.player2 : fastestWinMatch.player1;
            records.push({
                label: 'Schnellster Sieg',
                value: `${fastestWinPlayer} vs ${opponent || '-'} - ${formatTimeForDisplay(fastestWinTime)}`
            });
        }
        
        // Find fastest loss
        let fastestLossPlayer = null;
        let fastestLossTime = Infinity;
        let fastestLossMatch = null;
        for (let player in playerStats) {
            if (playerStats[player].fastestLoss && 
                playerStats[player].fastestLossTime < fastestLossTime) {
                fastestLossTime = playerStats[player].fastestLossTime;
                fastestLossPlayer = player;
                fastestLossMatch = playerStats[player].fastestLoss;
            }
        }
        
        if (fastestLossPlayer && fastestLossMatch) {
            const opponent = fastestLossMatch.player1 === fastestLossPlayer ? 
                fastestLossMatch.player2 : fastestLossMatch.player1;
            records.push({
                label: 'Schnellste Niederlage',
                value: `${fastestLossPlayer} vs ${opponent || '-'} - ${formatTimeForDisplay(fastestLossTime)}`
            });
        }
        
        // Display records
        if (records.length > 0) {
            records.forEach(record => {
                const li = document.createElement('li');
                li.className = 'stats-item';
                li.innerHTML = `<strong>${record.label}:</strong> ${record.value}`;
                statsRecordsList.appendChild(li);
            });
        } else {
            const li = document.createElement('li');
            li.className = 'stats-item';
            li.textContent = 'Keine Rekorde verf√ºgbar';
            statsRecordsList.appendChild(li);
        }
    }
    
    // Open player stats modal
    function openPlayerStatsModal(playerName, tournamentData) {
        const modal = document.getElementById('playerStatsModal');
        
        // Calculate stats (will be empty/zeros if player has no matches)
        const stats = calculatePlayerStats(playerName, tournamentData) || {
            totalGames: 0,
            roundsPlayed: [],
            totalTime: 0,
            wins: 0,
            losses: 0,
            totalPointsScored: 0,
            totalPointsReceived: 0,
            opponentsWon: [],
            opponentsLost: [],
            matches: []
        };
        
        // Set player name
        document.getElementById('playerStatsName').textContent = playerName;
        
        // Set basic info
        const basicInfo = document.getElementById('playerStatsBasicInfo');
        const isAdmin = ADMIN_PARTICIPANTS.includes(playerName);
        const hasMatches = playerHasMatches(playerName, tournamentData);
        let basicInfoText = isAdmin ? 'üëë Admin' : 'üèì Spieler';
        if (!hasMatches) {
            basicInfoText += ' ‚Ä¢ Keine Spiele in der Tabelle';
        }
        basicInfo.textContent = basicInfoText;
        
        // Populate overview stats
        const overview = document.getElementById('playerStatsOverview');
        overview.innerHTML = '';
        
        const overviewStats = [
            { label: 'Spiele gespielt', value: stats.totalGames },
            { label: 'Runden gespielt', value: stats.roundsPlayed.length },
            { label: 'Gespielte Zeit', value: formatTime(stats.totalTime) },
            { label: 'Siege', value: stats.wins, highlight: true },
            { label: 'Niederlagen', value: stats.losses },
            { label: 'Punkte erzielt', value: stats.totalPointsScored },
            { label: 'Punkte erhalten', value: stats.totalPointsReceived }
        ];
        
        overviewStats.forEach(stat => {
            const card = document.createElement('div');
            card.className = 'player-stats-card';
            const label = document.createElement('div');
            label.className = 'player-stats-card-label';
            label.textContent = stat.label;
            const value = document.createElement('div');
            value.className = 'player-stats-card-value';
            if (stat.highlight && stat.value > 0) {
                value.style.color = '#2a7d4a';
            }
            value.textContent = stat.value;
            card.appendChild(label);
            card.appendChild(value);
            overview.appendChild(card);
        });
        
        // Populate matches
        const matchesContainer = document.getElementById('playerStatsMatches');
        matchesContainer.innerHTML = '';
        
        if (stats.matches.length === 0) {
            const noMatches = document.createElement('div');
            noMatches.className = 'player-stats-match';
            noMatches.style.textAlign = 'center';
            noMatches.style.color = '#4a9d7a';
            noMatches.style.padding = '40px 20px';
            noMatches.style.fontSize = 'clamp(1rem, 2vw, 1.2rem)';
            noMatches.style.opacity = '0.7';
            noMatches.innerHTML = '<div style="font-size: 3rem; margin-bottom: 15px;">üéÆ</div><div>Keine abgeschlossenen Spiele</div>';
            matchesContainer.appendChild(noMatches);
        } else {
            // Sort matches by round index (most recent first)
            const sortedMatches = [...stats.matches].sort((a, b) => {
                if (a.roundIndex !== b.roundIndex) {
                    return b.roundIndex - a.roundIndex;
                }
                return b.matchIndex - a.matchIndex;
            });
            
            sortedMatches.forEach(matchData => {
                const matchDiv = document.createElement('div');
                matchDiv.className = `player-stats-match ${matchData.result}-match`;
                
                // Header
                const header = document.createElement('div');
                header.className = 'player-stats-match-header';
                
                const round = document.createElement('div');
                round.className = 'player-stats-match-round';
                round.textContent = matchData.round;
                
                const result = document.createElement('div');
                result.className = `player-stats-match-result ${matchData.result}`;
                result.textContent = matchData.result === 'win' ? '‚úì Sieg' : '‚úó Niederlage';
                
                header.appendChild(round);
                header.appendChild(result);
                
                // Details
                const details = document.createElement('div');
                details.className = 'player-stats-match-details';
                
                const opponentDetail = document.createElement('div');
                opponentDetail.className = 'player-stats-match-detail';
                opponentDetail.innerHTML = `<strong>Gegner:</strong> ${matchData.opponent || '-'}`;
                
                const scoreDetail = document.createElement('div');
                scoreDetail.className = 'player-stats-match-detail';
                scoreDetail.innerHTML = `<strong>Ergebnis:</strong> ${matchData.playerScore} : ${matchData.opponentScore}`;
                
                const timeDetail = document.createElement('div');
                timeDetail.className = 'player-stats-match-detail';
                timeDetail.innerHTML = `<strong>Spielzeit:</strong> ${formatTime(matchData.durationSeconds)}`;
                
                const pointsDetail = document.createElement('div');
                pointsDetail.className = 'player-stats-match-detail';
                pointsDetail.innerHTML = `<strong>Punkte erzielt:</strong> ${matchData.playerScore}`;
                
                details.appendChild(opponentDetail);
                details.appendChild(scoreDetail);
                details.appendChild(timeDetail);
                details.appendChild(pointsDetail);
                
                matchDiv.appendChild(header);
                matchDiv.appendChild(details);
                matchesContainer.appendChild(matchDiv);
            });
        }
        
        // Show modal
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    // Initialize player stats modal
    function initializePlayerStatsModal() {
        const modal = document.getElementById('playerStatsModal');
        const closeBtn = document.getElementById('playerStatsModalClose');
        
        if (!modal || !closeBtn) return;
        
        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        // Close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeModal();
            }
        });
    }
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        loadTables();
        initializeParticipantsSidebarToggle();
        initializePlayerStatsModal();
        
        // Update statistics section
        const savedData = localStorage.getItem('tournamentData');
        if (savedData) {
            try {
                const tournamentData = JSON.parse(savedData);
                updateStatisticsSection(tournamentData);
            } catch (e) {
                console.error('Error loading statistics:', e);
            }
        }
    });
    </script>
</body>
</html>
